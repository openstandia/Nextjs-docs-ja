---
title: 'staleTimes'
description: 'Client Router Cache の無効化時間を上書きする方法について学ぶ'
version: 'experimental'
---

`staleTimes`は、[クライアントサイドのrouter cache](/docs/app/building-your-application/caching#client-side-router-cache)内のページセグメントのキャッシュを可能にする実験的な機能です。

この実験的な機能を有効にし、カスタム再検証時間を設定するには、実験的な`staleTimes`フラグを設定します:

```js title="next.config.js"
/** @type {import('next').NextConfig} */
const nextConfig = {
  experimental: {
    staleTimes: {
      dynamic: 30,
      static: 180,
    },
  },
}

module.exports = nextConfig
```

`static`および`dynamic`プロパティは、異なる種類の[リンクプリフェッチ](/docs/app/api-reference/components/link#prefetch)に基づく時間の長さ（秒単位）に対応しています。

- `dynamic`プロパティは、ページが静的に生成されておらず、完全にプリフェッチされていないときに使用されます（例：`prefetch={true}`が設定されている場合）。
  - デフォルト: 0 秒（キャッシュされない）
- `static`プロパティは、静的に生成されたページ、または`Link`の`prefetch` propが`true`に設定されている場合、または[`router.prefetch`](/docs/app/building-your-application/caching#routerprefetch)を呼び出すときに使用されます。
  - デフォルト: 5 分

> **Good to know:**
>
> - [Loading boundaries](/docs/app/api-reference/file-conventions/loading)は、この構成で定義された`static`期間に対して再利用可能と見なされます。
> - これは[部分的レンダリング](/docs/app/building-your-application/routing/linking-and-navigating#4-partial-rendering)には影響しません。つまり、共有レイアウトはすべてのナビゲーションで自動的に再取得されず、変更されたページセグメントのみが再取得されます。
> - これは、レイアウトシフトを防ぎ、ブラウザのスクロール位置を失わないようにするため、[バック/フォワードキャッシング](/docs/app/building-your-application/caching#client-side-router-cache)の動作を変更しません。

Client Router Cacheについての詳細は[こちら](/docs/app/building-your-application/caching#client-side-router-cache)をご覧ください。

### バージョン履歴 {#version-history}

| Version   | 変更内容                                             |
| --------- | ---------------------------------------------------- |
| `v15.0.0` | `dynamic`の`staleTimes`デフォルトが30秒から0秒に変更 |
| `v14.2.0` | 実験的な`staleTimes`が導入されました                 |
