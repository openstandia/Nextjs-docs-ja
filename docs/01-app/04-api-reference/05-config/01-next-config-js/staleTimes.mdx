---
title: 'staleTimes'
description: 'クライアントルーターキャッシュの無効化時間を上書きする方法を学ぶ'
version: 'experimental'
---

`staleTimes` は、実験的な機能であり、[クライアントサイドルーターキャッシュ](/docs/app/building-your-application/caching#client-side-router-cache)においてページセグメントのキャッシングを可能にします。

この実験的機能を有効にし、カスタムの再検証時間を設定するには、experimentalフラグ `staleTimes` を設定します：

```js title="next.config.js"
/** @type {import('next').NextConfig} */
const nextConfig = {
  experimental: {
    staleTimes: {
      dynamic: 30,
      static: 180,
    },
  },
}

module.exports = nextConfig
```

`static` および `dynamic` プロパティは、異なるタイプの[リンクプリフェッチ](/docs/app/api-reference/components/link#prefetch)に基づく時間（秒単位）を表します。

- `dynamic` プロパティは、ページが静的に生成されていない、または完全にプリフェッチされていない場合（例：`prefetch={true}` が設定されている場合）に使用されます
  - デフォルト：0 秒（キャッシュされない）
- `static` プロパティは、静的に生成されたページ、または `Link` 上の `prefetch` prop を `true` に設定した場合、または [`router.prefetch`](/docs/app/building-your-application/caching#routerprefetch) を呼び出すときに使用されます
  - デフォルト：5 分

> **知っておくと良いこと：**
>
> - [Loading boundaries](/docs/app/api-reference/file-conventions/loading)は、この設定で定義された `static` 期間中再利用可能と見なされます
> - これは[部分的レンダリング](/docs/app/building-your-application/routing/linking-and-navigating#4-partial-rendering)には影響しません。**つまり、共有レイアウトは自動的に再フェッチされず、変更されたページセグメントのみが対象です。**
> - レイアウトシフトを防ぎ、ブラウザのスクロール位置を失うことを防ぐために、[バック/フォワードキャッシング](/docs/app/building-your-application/caching#client-side-router-cache)の動作を変更しません。

クライアントルーターキャッシュの詳細は[こちら](/docs/app/building-your-application/caching#client-side-router-cache)で学ぶことができます。

### バージョン履歴 {#version-history}

| バージョン | 変更点                                                         |
| ---------- | -------------------------------------------------------------- |
| `v15.0.0`  | `dynamic` `staleTimes` デフォルトが30秒から0秒に変更されました |
| `v14.2.0`  | 実験的な `staleTimes` が導入されました                         |
