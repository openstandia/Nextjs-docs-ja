---
title: 'ppr'
description: 'Next.jsで部分的プリアレンダリングを有効にする方法を学びます。'
version: 'experimental'
related:
  title: '部分的プリアレンダリングについて詳しく学ぶ'
  links:
    - 'app/building-your-application/rendering/partial-prerendering'
---

部分的プリアレンダリング (PPR) を使用すると、静的コンポーネントと動的コンポーネントを同じルートで組み合わせることができます。詳しくは[部分的プリアレンダリング](/docs/app/building-your-application/rendering/partial-prerendering)をご覧ください。

## 部分的プリアレンダリングの使用 {#using-partial-prerendering}

### インクリメンタルな導入 (Version 15) {#incremental-adoption-version-15}

Next.js 15では、[`next.config.js`](/docs/app/api-reference/config/next-config-js/ppr) ファイルで `ppr` オプションを `incremental` に設定し、ファイルの先頭で `experimental_ppr` [ルート設定オプション](/docs/app/api-reference/file-conventions/route-segment-config)をエクスポートすることで、[レイアウト](/docs/app/building-your-application/routing/layouts-and-templates)や[ページ](/docs/app/api-reference/file-conventions/page)で部分的プリアレンダリングを段階的に採用することができます：

<Tabs>
<TabItem value="ts" label="TypeScript">

```ts title="next.config.ts" switcher
import type { NextConfig } from 'next'

const nextConfig: NextConfig = {
  experimental: {
    ppr: 'incremental',
  },
}

export default nextConfig
```

</TabItem>
<TabItem value="js" label="JavaScript">

```js title="next.config.js" switcher
/** @type {import('next').NextConfig} */
const nextConfig = {
  experimental: {
    ppr: 'incremental',
  },
}

module.exports = nextConfig
```

</TabItem>
</Tabs>

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="app/page.tsx" switcher
import { Suspense } from "react"
import { StaticComponent, DynamicComponent, Fallback } from "@/app/ui"

export const experimental_ppr = true

export default function Page() {
  return {
     <>
      <StaticComponent />
      <Suspense fallback={<Fallback />}>
        <DynamicComponent />
      </Suspense>
     </>
  };
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="app/page.js" switcher
import { Suspense } from "react"
import { StaticComponent, DynamicComponent, Fallback } from "@/app/ui"

export const experimental_ppr = true

export default function Page() {
  return {
     <>
      <StaticComponent />
      <Suspense fallback={<Fallback />}>
        <DynamicComponent />
      </Suspense>
     </>
  };
}
```

</TabItem>
</Tabs>

> **Good to know**:
>
> - `experimental_ppr` が設定されていないルートはデフォルトで `false` となり、PPRを使用してプリアレンダリングされません。各ルートでPPRを明示的に選択する必要があります。
> - `experimental_ppr` はルートセグメントのすべての子に適用され、ネストされたレイアウトやページも含まれる。ルートの最上位セグメントにのみ追加すればよいです。
> - 子セグメントのPPRを無効にするには、子セグメントで `experimental_ppr` を `false` に設定します。

| バージョン | 変更点                              |
| ---------- | ----------------------------------- |
| `v15.0.0`  | experimentalに`incremental`値を導入 |
| `v14.0.0`  | experimentalに`ppr`を導入           |
