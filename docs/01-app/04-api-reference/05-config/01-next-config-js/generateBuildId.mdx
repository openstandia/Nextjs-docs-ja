---
title: 'generateBuildId'
description: 'アプリケーションが提供されている現在のビルドを識別するのに使用されるビルドIDを設定します'
---

{/* このドキュメントの内容は、app routerとpages routerの間で共有されています。pages routerに特化したコンテンツを追加するには、`<PagesOnly>Content</PagesOnly>`コンポーネントを使用してください。共有されるコンテンツはコンポーネントでラップしないでください。 */}

Next.js は、`next build`の際にIDを生成し、どのバージョンのアプリケーションが提供されているかを識別します。 同じビルドは複数のコンテナで使用され、起動される必要があります。

環境の各ステージごとに再ビルドする場合は、コンテナ間で使用する一貫したビルドIDを生成する必要があります。`next.config.js`で`generateBuildId`コマンドを使用してください：

```jsx title="next.config.js"
module.exports = {
  generateBuildId: async () => {
    // これは何でも可能です。最新のgitハッシュを使用しています
    return process.env.GIT_HASH
  },
}
```
