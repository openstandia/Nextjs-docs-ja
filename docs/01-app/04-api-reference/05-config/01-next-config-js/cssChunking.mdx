---
title: 'cssChunking'
description: 'Next.jsアプリケーションでCSSファイルの分割方法を制御するために`cssChunking`オプションを使用します'
version: 'experimental'
---

CSS Chunking は、CSSファイルを分割して再配置することでWebアプリケーションのパフォーマンスを向上させる戦略です。これにより、アプリケーション全体のCSSを一度に読み込むのではなく、特定のルートに必要なCSSだけを読み込むことが可能になります。

`next.config.js`ファイルで`experimental.cssChunking`オプションを使用して、CSSファイルの分割方法を制御できます：

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="next.config.ts" switcher
import type { NextConfig } from 'next'

const nextConfig = {
  experimental: {
    cssChunking: true, // デフォルト
  },
} satisfies NextConfig

export default nextConfig
```

</TabItem>
<TabItem value="js" label="JavaScript">

```js title="next.config.js" switcher
/** @type {import('next').NextConfig} */
const nextConfig = {
  experimental: {
    cssChunking: true, // デフォルト
  },
}

module.exports = nextConfig
```

</TabItem>
</Tabs>

## オプション {#options}

- **`true` (デフォルト)**: Next.jsは可能な限りCSSファイルを結合し、ファイル間の明示的および暗黙的な依存関係をインポート順序から判断してチャンクの数を減らし、リクエストの数を減らします
- **`false`**: Next.jsはCSSファイルを結合したり再配置しようとしません
- **`'strict'`**: Next.jsは、あなたのファイルにインポートされた正しい順序でCSSファイルを読み込むので、より多くのチャンクとリクエストが発生する可能性があります

予期しないCSSの動作に直面する場合、`'strict'`の使用を検討するかもしれません。例えば、異なるファイルで異なる`import`順序（`a`が`b`より前、または`b`が`a`より前）で`a.css`と`b.css`をインポートする場合、`true`は順序にかかわらずファイルを結合し、それらの間に依存関係がないと仮定します。しかし、`b.css`が`a.css`に依存している場合、ファイルが結合されないように`'strict'`を使用し、インポートされた順序で読み込むことを推奨するかもしれません - これにより、より多くのチャンクとリクエストが発生する可能性があります。

ほとんどのアプリケーションにおいて、より少ないリクエスト数と優れたパフォーマンスを実現するために`true`を推奨します。
