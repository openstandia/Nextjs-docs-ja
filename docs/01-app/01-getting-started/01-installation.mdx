---
title: '新しい Next.js プロジェクトのセットアップ方法'
nav_title: 'インストール'
description: 'create-next-app CLI を使用して新しい Next.js アプリケーションを作成し、TypeScript、ESLint、およびモジュールパスエイリアスを設定します。'
---

{/* このドキュメントの内容は app router と pages router で共有されています。Pages Router に特定の内容を追加するには `<PagesOnly>内容</PagesOnly>` コンポーネントを使用できます。共有されるコンテンツはコンポーネントにラップしないでください。 */}

## システム要件 {#system-requirements}

- [Node.js 18.18](https://nodejs.org/) 以降
- macOS、Windows（WSLを含む）、およびLinuxがサポートされています

## 自動インストール {#automatic-installation}

新しい Next.js アプリの開始には、すべてが自動的に設定される[`create-next-app`](/docs/app/api-reference/cli/create-next-app)を使用することをお勧めします。プロジェクトを作成するには次を実行します：

```bash title="Terminal"
npx create-next-app@latest
```

インストール時に次のプロンプトが表示されます：

```txt title="Terminal"
What is your project named? my-app
Would you like to use TypeScript? No / Yes
Would you like to use ESLint? No / Yes
Would you like to use Tailwind CSS? No / Yes
Would you like your code inside a `src/` directory? No / Yes
Would you like to use App Router? (recommended) No / Yes
Would you like to use Turbopack for `next dev`?  No / Yes
Would you like to customize the import alias (`@/*` by default)? No / Yes
What import alias would you like configured? @/*
```

プロンプトが完了すると、[`create-next-app`](/docs/app/api-reference/cli/create-next-app)はプロジェクト名のフォルダーを作成し、必要な依存関係をインストールします。

## 手動インストール {#manual-installation}

新しい Next.js アプリを手動で作成するには、必要なパッケージをインストールします。

```bash title="Terminal"
npm install next@latest react@latest react-dom@latest
```

`package.json` ファイルを開き、次の `scripts` を追加します：

```json title="package.json"
{
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "next lint"
  }
}
```

これらのスクリプトは、アプリケーション開発のさまざまな段階を指します：

- `dev`: [`next dev`](/docs/app/api-reference/cli/next#next-dev-options) を実行して開発モードで Next.js を起動します
- `build`: [`next build`](/docs/app/api-reference/cli/next#next-build-options) を実行して、プロダクション用にアプリケーションをビルドします
- `start`: [`next start`](/docs/app/api-reference/cli/next#next-start-options) を実行して、Next.js プロダクションサーバーを起動します
- `lint`: [`next lint`](/docs/app/api-reference/cli/next#next-lint-options) を実行して、Next.js の組み込み ESLint 設定をセットアップします

<AppOnly>

### `app` ディレクトリの作成 {#create-the-app-directory}

Next.js は、ファイルシステムルーティングを使用しています。つまり、アプリケーション内のルートは、ファイルの構造によって決定されます。

`app` フォルダを作成し、`layout.tsx` および `page.tsx` ファイルを追加します。これらは、ユーザーがアプリケーションの root (`/`) を訪れたときにレンダリングされます。

<Image
  alt="App フォルダ構造"
  srcLight="/docs/light/app-getting-started.png"
  srcDark="/docs/dark/app-getting-started.png"
  width="1600"
  height="363"
/>

必要な `<html>` および `<body>` タグを含む [root レイアウト](/docs/app/building-your-application/routing/layouts-and-templates#root-layout-required) を `app/layout.tsx` 内に作成します：

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="app/layout.tsx" switcher
export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="en">
      <body>{children}</body>
    </html>
  )
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="app/layout.js" switcher
export default function RootLayout({ children }) {
  return (
    <html lang="en">
      <body>{children}</body>
    </html>
  )
}
```

</TabItem>
</Tabs>

最後に、いくつかの初期コンテンツを持つホームページ `app/page.tsx` を作成します：

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="app/page.tsx" switcher
export default function Page() {
  return <h1>Hello, Next.js!</h1>
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="app/page.js" switcher
export default function Page() {
  return <h1>Hello, Next.js!</h1>
}
```

</TabItem>
</Tabs>

> **Good to know**:
>
> - `layout.tsx` を作成し忘れても、Next.js は `next dev` で開発サーバーを実行するときに自動的にこのファイルを作成します。
> - プロジェクトの root にある[`src` ディレクトリ](/docs/app/building-your-application/configuring/src-directory)を使用して、アプリケーションのコードを設定ファイルから分けることができます。

</AppOnly>

<PagesOnly>

### `pages` ディレクトリの作成 {#create-the-pages-directory}

Next.js はファイルシステムルーティングを使用しています。つまり、アプリケーション内のルートはファイルの構造によって決定されます。

プロジェクトの root に `pages` ディレクトリを作成し、その中に `index.tsx` ファイルを追加します。これがあなたのホームページ（`/`）になります。

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="pages/index.tsx" switcher
export default function Page() {
  return <h1>Hello, Next.js!</h1>
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="pages/index.js" switcher
export default function Page() {
  return <h1>Hello, Next.js!</h1>
}
```

</TabItem>
</Tabs>

次に、グローバルレイアウトを定義するために `pages/` 内に `_app.tsx` ファイルを追加します。[カスタム App ファイル](https://nextjs.org/docs/canary/pages/building-your-application/routing/custom-app)についての詳細を確認してください。

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="pages/_app.tsx" switcher
import type { AppProps } from 'next/app'

export default function App({ Component, pageProps }: AppProps) {
  return <Component {...pageProps} />
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="pages/_app.js" switcher
export default function App({ Component, pageProps }) {
  return <Component {...pageProps} />
}
```

</TabItem>
</Tabs>

最後に、サーバーからの初期応答を制御するために `pages/` 内に `_document.tsx` ファイルを追加します。[カスタム Document ファイル](https://nextjs.org/docs/canary/pages/building-your-application/routing/custom-document)についての詳細を確認してください。

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="pages/_document.tsx" switcher
import { Html, Head, Main, NextScript } from 'next/document'

export default function Document() {
  return (
    <Html>
      <Head />
      <body>
        <Main />
        <NextScript />
      </body>
    </Html>
  )
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="pages/_document.js" switcher
import { Html, Head, Main, NextScript } from 'next/document'

export default function Document() {
  return (
    <Html>
      <Head />
      <body>
        <Main />
        <NextScript />
      </body>
    </Html>
  )
}
```

</TabItem>
</Tabs>

</PagesOnly>

### `public` フォルダの作成（オプション） {#create-the-public-folder-optional}

静的アセット（画像、フォントなど）を保存するために、プロジェクトの root に[`public` フォルダ](/docs/app/building-your-application/optimizing/static-assets)を作成することができます。`public` 内のファイルは、ベースURL（`/`）から始めることでコードから参照できます。

## 開発サーバーの実行 {#run-the-development-server}

1. `npm run dev` を実行して開発サーバーを起動します。
2. `http://localhost:3000` を訪れてアプリケーションを表示します。
3. <AppOnly>`app/page.tsx`</AppOnly> <PagesOnly>`pages/index.tsx`</PagesOnly> ファイルを編集し、ブラウザーで更新された結果を確認するために保存します。

## TypeScript のセットアップ {#set-up-typescript}

> 最低限の TypeScript バージョン： `v4.5.2`

Next.js は、組み込みの TypeScript サポートを提供します。プロジェクトに TypeScript を追加するには、ファイルを `.ts` / `.tsx` にリネームします。次に `next dev` を実行すると、Next.js は必要な依存関係を自動的にインストールし、推奨設定オプション付きの `tsconfig.json` ファイルを追加します。

<AppOnly>

### IDE プラグイン {#ide-plugin}

Next.js にはカスタムの TypeScript プラグインとタイプチェッカーが組み込まれており、VSCode などのコードエディターで高度なタイプチェックと自動補完を利用できます。

VS Code でプラグインを有効にするには次のステップを行います：

1. コマンドパレットを開く（`Ctrl/⌘` + `Shift` + `P`）
2. "TypeScript: Select TypeScript Version" を検索する
3. "Use Workspace Version" を選択する

<Image
  alt="TypeScript コマンドパレット"
  srcLight="/docs/light/typescript-command-palette.png"
  srcDark="/docs/dark/typescript-command-palette.png"
  width="1600"
  height="637"
/>

これで、ファイルを編集するときにカスタムプラグインが有効になります。`next build` を実行する際には、カスタムタイプチェッカーが使用されます。

</AppOnly>

プロジェクトで TypeScript を使用する方法の詳細については、[TypeScript 設定](/docs/app/api-reference/config/next-config-js/typescript)ページを参照してください。

## ESLint のセットアップ {#set-up-eslint}

Next.js には組み込みの ESLint が含まれており、新しいプロジェクトを `create-next-app` で作成する場合、必要なパッケージが自動的にインストールされ、適切な設定が行われます。

既存のプロジェクトに ESLint を追加するには、`package.json` に `next lint` をスクリプトとして追加します：

```json title="package.json"
{
  "scripts": {
    "lint": "next lint"
  }
}
```

その後、`npm run lint` を実行すると、インストールと設定のプロセスが案内されます。

```bash title="Terminal"
pnpm lint
```

次のようなプロンプトが表示されます：

> ? How would you like to configure ESLint?
>
> ❯ Strict (recommended)  
> Base  
> Cancel

- **Strict**: Next.js のベース ESLint 設定に加え、より厳格な Core Web Vitals のルールセットを含んでいます。初めて ESLint を設定する開発者には、この設定が推奨されます。
- **Base**: Next.js のベース ESLint 設定が含まれています。
- **Cancel**: いかなる ESLint 設定も含めません。このオプションを選択するのは、独自のカスタム ESLint 設定を行う予定の場合のみです。

2 つの設定オプションのいずれかが選択されると、Next.js は自動的に `eslint` と `eslint-config-next` をアプリケーションの依存関係としてインストールし、選択された設定を含む `.eslintrc.json` ファイルをプロジェクトの root に作成します。

ESLint でエラーをキャッチしたいときは、毎回 `next lint` を実行できます。ESLint が設定されると、ビルド（`next build`）のたびにも自動的に実行されます。エラーはビルドを失敗させますが、警告はそうしません。

プロジェクトで ESLint を設定する方法について詳しくは、[ESLint プラグイン](/docs/app/api-reference/config/next-config-js/eslint)ページを参照してください。

## 絶対インポートとモジュールパスエイリアスのセットアップ {#set-up-absolute-imports-and-module-path-aliases}

Next.js は `tsconfig.json` および `jsconfig.json` ファイルの `"paths"` および `"baseUrl"` オプションをサポートします。これらのオプションを使用すると、プロジェクトのディレクトリを絶対パスにエイリアス化し、モジュールのインポートを容易にできます。例えば：

```jsx
// 以前は
import { Button } from '../../../components/button'

// 現在は
import { Button } from '@/components/button'
```

絶対インポートを設定するには、`tsconfig.json` または `jsconfig.json` ファイルに `baseUrl` 設定オプションを追加します。例えば：

```json title="tsconfig.json or jsconfig.json"
{
  "compilerOptions": {
    "baseUrl": "src/"
  }
}
```

`baseUrl` パス設定に加えて、`"paths"` オプションを使ってモジュールパスを`"エイリアス"`化することが可能です。

例えば、以下の設定は `@/components/*` を `components/*` にマップします：

```json title="tsconfig.json or jsconfig.json"
{
  "compilerOptions": {
    "baseUrl": "src/",
    "paths": {
      "@/styles/*": ["styles/*"],
      "@/components/*": ["components/*"]
    }
  }
}
```

各 `"paths"` は `baseUrl` の位置からの相対パスです。例：

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="src/app/page.tsx" switcher
import Button from '@/components/button'
import '@/styles/styles.css'

export default function HomePage() {
  return (
    <div>
      <h1>Hello World</h1>
      <Button />
    </div>
  )
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="src/app/page.js" switcher
import Button from '@/components/button'
import '@/styles/styles.css'

export default function HomePage() {
  return (
    <div>
      <h1>Hello World</h1>
      <Button />
    </div>
  )
}
```

</TabItem>
</Tabs>
