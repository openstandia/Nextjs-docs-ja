---
title: 'アプリケーションでCSSを使用する方法'
nav_title: 'CSSとスタイリング'
description: 'Next.jsアプリケーションにCSSとスタイリングを追加する方法を学びます。'
related:
  links:
    - 'app/api-reference/config/next-config-js/sassOptions'
    - 'architecture/nextjs-compiler'
---

Next.jsはアプリケーションでCSSを使用するためのいくつかの方法を提供しています：

- [CSS Modules](#css-modules)
- [グローバルCSS](#global-css)
- [Tailwind CSS](#tailwind-css)
- [Sass](#sass)
- [CSS-in-JS](#css-in-js)
- [外部スタイルシート](#external-stylesheets)

このページでは、これらのアプローチをそれぞれ使用する方法を案内します。

## CSS Modules {#css-modules}

CSS Modulesは、一意のクラス名を生成することでCSSをローカルにスコープします。これにより、異なるファイルで同じクラスを衝突を心配することなく使用することができます。

CSS Modulesの使用を開始するには、拡張子`.module.css`の新しいファイルを作成し、そのファイルを`app`ディレクトリ内の任意のコンポーネントにインポートします：

```css title="app/blog/styles.module.css"
.blog {
  padding: 24px;
}
```

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="app/blog/page.tsx" switcher
import styles from './styles.module.css'

export default function Page({ children }: { children: React.ReactNode }) {
  return <main className={styles.blog}>{children}</main>
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="app/blog/page.js" switcher
import styles from './styles.module.css'

export default function Page({ children }) {
  return <main className={styles.blog}>{children}</main>
}
```

</TabItem>
</Tabs>

> **Good to know:**
>
> - CSS Modulesは`.module.css`および`.module.sass`の拡張子があるファイルに対してのみ有効です。
> - 本番環境では、すべてのCSS Moduleファイルは自動的に結合され、最小化され、コードスプリットされた`.css`ファイルになります。
> - これらの`.css`ファイルは、アプリケーションの重要な実行パスに相当し、アプリケーションが描画するために必要な最小限のCSSがロードされることを保証します。

## グローバルCSS {#global-css}

アプリケーション全体にスタイルを適用するためにグローバルCSSを使用することができます。

グローバルスタイルを使用するには、新しいCSSファイルを作成します（例：`app/global.css`）：

```css title="app/global.css"
body {
  padding: 20px 20px 60px;
  max-width: 680px;
  margin: 0 auto;
}
```

ファイルをrootレイアウト（`app/layout.js`）にインポートして、アプリケーション内の**すべてのルート**にスタイルを適用します：

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="app/layout.tsx" switcher
// これらのスタイルはアプリケーション内のすべてのルートに適用されます
import './global.css'

export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="en">
      <body>{children}</body>
    </html>
  )
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="app/layout.js" switcher
// これらのスタイルはアプリケーション内のすべてのルートに適用されます
import './global.css'

export default function RootLayout({ children }) {
  return (
    <html lang="en">
      <body>{children}</body>
    </html>
  )
}
```

</TabItem>
</Tabs>

> **Good to know:** グローバルスタイルは、`app`ディレクトリ内の任意のレイアウト、ページ、またはコンポーネントにインポートできます。ただし、Next.jsはReactの組み込みスタイルシートのサポートを使用してSuspenseと統合します。この組み込みサポートは、現在ルート間を移動するときにスタイルシートを削除しません。したがって、本当にグローバルなCSSの場合はグローバルスタイルを、スコープ付きCSSには[CSS Modules](#css-modules)を使用することをお勧めします。

## Tailwind CSS {#tailwind-css}

[Tailwind CSS](https://tailwindcss.com/)は、Next.jsとシームレスに統合するユーティリティーファーストのCSSフレームワークです。

### Tailwindのインストール {#installing-tailwind}

Tailwindを使用するには、Tailwind CSSのパッケージをインストールし、`init`コマンドを実行して`tailwind.config.js`と`postcss.config.js`ファイルを生成します：

```bash title="Terminal"
npm install -D tailwindcss postcss autoprefixer
npx tailwindcss init -p
```

### Tailwindの設定 {#configuring-tailwind}

Tailwindの設定ファイル内で、Tailwindのクラス名を使用するファイルのパスを追加します：

<Tabs>
<TabItem value="ts" label="TypeScript">

```ts title="tailwind.config.ts" switcher
import type { Config } from 'tailwindcss'

const config: Config = {
  content: [
    './app/**/*.{js,ts,jsx,tsx,mdx}',
    './components/**/*.{js,ts,jsx,tsx,mdx}',
    // `src`ディレクトリを使用している場合：
    './src/**/*.{js,ts,jsx,tsx,mdx}',
  ],
  theme: {
    extend: {},
  },
  plugins: [],
}
export default config
```

</TabItem>
<TabItem value="js" label="JavaScript">

```js title="tailwind.config.js" switcher
/** @type {import('tailwindcss').Config} */
module.exports = {
  content: [
    './app/**/*.{js,ts,jsx,tsx,mdx}',
    './components/**/*.{js,ts,jsx,tsx,mdx}',
    // `src`ディレクトリを使用している場合：
    './src/**/*.{js,ts,jsx,tsx,mdx}',
  ],
  theme: {
    extend: {},
  },
  plugins: [],
}
```

</TabItem>
</Tabs>

`postcss.config.js`を修正する必要はありません。

### Tailwindの使用 {#using-tailwind}

[Tailwindディレクティブ](https://tailwindcss.com/docs/functions-and-directives#directives)を[グローバルスタイルシート](#global-css)に追加します。例えば：

```css title="app/globals.css"
@tailwind base;
@tailwind components;
@tailwind utilities;
```

次に、スタイルをrootレイアウトにインポートします：

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="app/layout.tsx" switcher
import type { Metadata } from 'next'

// これらのスタイルはアプリケーション内のすべてのルートに適用されます
import './globals.css'

export const metadata: Metadata = {
  title: 'Create Next App',
  description: 'Generated by create next app',
}

export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="en">
      <body>{children}</body>
    </html>
  )
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="app/layout.js" switcher
// これらのスタイルはアプリケーション内のすべてのルートに適用されます
import './globals.css'

export const metadata = {
  title: 'Create Next App',
  description: 'Generated by create next app',
}

export default function RootLayout({ children }) {
  return (
    <html lang="en">
      <body>{children}</body>
    </html>
  )
}
```

</TabItem>
</Tabs>

最後に、アプリケーションでTailwindのユーティリティクラスを記述することができます。

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="app/page.tsx" switcher
export default function Page() {
  return <h1 className="text-3xl font-bold underline">Hello, Next.js!</h1>
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="app/page.js" switcher
export default function Page() {
  return <h1 className="text-3xl font-bold underline">Hello, Next.js!</h1>
}
```

</TabItem>
</Tabs>

## Sass {#sass}

Next.jsは、[`.scss`](https://sass-lang.com/documentation/syntax/#scss)および[`.sass`](https://sass-lang.com/documentation/syntax#the-indented-syntax)拡張子と構文を使用して[Sass](https://sass-lang.com/)と統合します。

また、[CSS Modules](#css-modules)と`.module.scss`または`.module.sass`拡張子を用いたコンポーネントレベルのSassも使用できます。

### Sassのインストール {#installing-sass}

Sassを使用するには、`sass`パッケージをインストールします：

```bash title="Terminal"
npm install --save-dev sass
```

### Sassのオプションのカスタマイズ {#customizing-sass-options}

Sassのオプションを設定したい場合は、`next.config.js`で`sassOptions`を使用します。

<Tabs>
<TabItem value="ts" label="TypeScript">

```ts title="next.config.ts" switcher
import type { NextConfig } from 'next'

const nextConfig: NextConfig = {
  sassOptions: {
    additionalData: `$var: red;`,
  },
}

export default nextConfig
```

</TabItem>
<TabItem value="js" label="JavaScript">

```js title="next.config.js" switcher
/** @type {import('next').NextConfig} */

const nextConfig = {
  sassOptions: {
    additionalData: `$var: red;`,
  },
}

module.exports = nextConfig
```

</TabItem>
</Tabs>

`sassOptions`の設定については、[APIリファレンス](/docs/app/api-reference/config/next-config-js/sassOptions)を詳しく学びましょう。

## CSS-in-JS {#css-in-js}

> **警告:** ランタイムJavaScriptを必要とするCSS-in-JSライブラリは、現在ReactのServer Componentsではサポートされていません。Server ComponentsやStreamingのような最新のReact機能とCSS-in-JSを使用するには、ライブラリアーキテクトが最新のReactバージョンをサポートする必要があります。

次のライブラリは、`app`ディレクトリ内の**Client Components**でサポートされています（アルファベット順）：

- [`ant-design`](https://ant.design/docs/react/use-with-next#using-app-router)
- [`chakra-ui`](https://chakra-ui.com/getting-started/nextjs-app-guide)
- [`@fluentui/react-components`](https://react.fluentui.dev/?path=/docs/concepts-developer-server-side-rendering-next-js-appdir-setup--page)
- [`kuma-ui`](https://kuma-ui.com)
- [`@mui/material`](https://mui.com/material-ui/guides/next-js-app-router/)
- [`@mui/joy`](https://mui.com/joy-ui/integrations/next-js-app-router/)
- [`pandacss`](https://panda-css.com)
- [`styled-jsx`](#styled-jsx)
- [`styled-components`](#styled-components)
- [`stylex`](https://stylexjs.com)
- [`tamagui`](https://tamagui.dev/docs/guides/next-js#server-components)
- [`tss-react`](https://tss-react.dev/)
- [`vanilla-extract`](https://vanilla-extract.style)

以下は現在サポートに取り組んでいます：

- [`emotion`](https://github.com/emotion-js/emotion/issues/2928)

Server Componentsをスタイル設定する場合は、[CSS Modules](#css-modules)や[Tailwind CSS](#tailwind-css)のようにCSSファイルを出力する他のソリューションを使用することをお勧めします。

### CSS-in-JSの設定 {#configuring-css-in-js}

CSS-in-JSを設定するには、以下を行う必要があります：

1. **スタイルレジストリ**を作成して、レンダー中にすべてのCSSルールを集約します。
2. `useServerInsertedHTML`フックを使用して、ルールをそれを使用する可能性のあるすべてのコンテンツの前に挿入します。
3. 最初のサーバーサイドレンダリング中にスタイルレジストリでアプリをラップするClient Componentを作成します。

#### `styled-jsx` {#styled-jsx}

アプリケーション用に`styled-jsx`を設定するには、新しいレジストリを作成します：

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="app/registry.tsx" switcher
'use client'

import React, { useState } from 'react'
import { useServerInsertedHTML } from 'next/navigation'
import { StyleRegistry, createStyleRegistry } from 'styled-jsx'

export default function StyledJsxRegistry({
  children,
}: {
  children: React.ReactNode
}) {
  // 遅延初期状態でスタイルシートを一度だけ作成します
  // x-ref: https://reactjs.org/docs/hooks-reference.html#lazy-initial-state
  const [jsxStyleRegistry] = useState(() => createStyleRegistry())

  useServerInsertedHTML(() => {
    const styles = jsxStyleRegistry.styles()
    jsxStyleRegistry.flush()
    return <>{styles}</>
  })

  return <StyleRegistry registry={jsxStyleRegistry}>{children}</StyleRegistry>
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="app/registry.js" switcher
'use client'

import React, { useState } from 'react'
import { useServerInsertedHTML } from 'next/navigation'
import { StyleRegistry, createStyleRegistry } from 'styled-jsx'

export default function StyledJsxRegistry({ children }) {
  // 遅延初期状態でスタイルシートを一度だけ作成します
  // x-ref: https://reactjs.org/docs/hooks-reference.html#lazy-initial-state
  const [jsxStyleRegistry] = useState(() => createStyleRegistry())

  useServerInsertedHTML(() => {
    const styles = jsxStyleRegistry.styles()
    jsxStyleRegistry.flush()
    return <>{styles}</>
  })

  return <StyleRegistry registry={jsxStyleRegistry}>{children}</StyleRegistry>
}
```

</TabItem>
</Tabs>

次に、レジストリで[root レイアウト](/docs/app/api-reference/file-conventions/layout#root-layouts)をラップします：

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="app/layout.tsx" switcher
import StyledJsxRegistry from './registry'

export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html>
      <body>
        <StyledJsxRegistry>{children}</StyledJsxRegistry>
      </body>
    </html>
  )
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="app/layout.js" switcher
import StyledJsxRegistry from './registry'

export default function RootLayout({ children }) {
  return (
    <html>
      <body>
        <StyledJsxRegistry>{children}</StyledJsxRegistry>
      </body>
    </html>
  )
}
```

</TabItem>
</Tabs>

#### `styled-components` {#styled-components}

`styled-components`を使用するには、`next.config.js`で有効にします：

<Tabs>
<TabItem value="ts" label="TypeScript">

```ts title="next.config.ts" switcher
import type { NextConfig } from 'next'

const nextConfig: NextConfig = {
  compiler: {
    styledComponents: true,
  },
}

export default nextConfig
```

</TabItem>
<TabItem value="js" label="JavaScript">

```js title="next.config.js" switcher
/** @type {import('next').NextConfig} */
const nextConfig = {
  compiler: {
    styledComponents: true,
  },
}
```

</TabItem>
</Tabs>

次に、`styled-components` APIを使用して、レンダー中に生成されたすべてのCSSスタイルルールを収集するグローバルレジストリコンポーネントを作成し、それらのルールを返す関数を作成します。その後、`useServerInsertedHTML`フックを使用して、root レイアウト内の`<head>` HTMLタグにレジストリで収集したスタイルを注入します。

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="lib/registry.tsx" switcher
'use client'

import React, { useState } from 'react'
import { useServerInsertedHTML } from 'next/navigation'
import { ServerStyleSheet, StyleSheetManager } from 'styled-components'

export default function StyledComponentsRegistry({
  children,
}: {
  children: React.ReactNode
}) {
  // 遅延初期状態でスタイルシートを一度だけ作成します
  // x-ref: https://reactjs.org/docs/hooks-reference.html#lazy-initial-state
  const [styledComponentsStyleSheet] = useState(() => new ServerStyleSheet())

  useServerInsertedHTML(() => {
    const styles = styledComponentsStyleSheet.getStyleElement()
    styledComponentsStyleSheet.instance.clearTag()
    return <>{styles}</>
  })

  if (typeof window !== 'undefined') return <>{children}</>

  return (
    <StyleSheetManager sheet={styledComponentsStyleSheet.instance}>
      {children}
    </StyleSheetManager>
  )
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="lib/registry.js" switcher
'use client'

import React, { useState } from 'react'
import { useServerInsertedHTML } from 'next/navigation'
import { ServerStyleSheet, StyleSheetManager } from 'styled-components'

export default function StyledComponentsRegistry({ children }) {
  // 遅延初期状態でスタイルシートを一度だけ作成します
  // x-ref: https://reactjs.org/docs/hooks-reference.html#lazy-initial-state
  const [styledComponentsStyleSheet] = useState(() => new ServerStyleSheet())

  useServerInsertedHTML(() => {
    const styles = styledComponentsStyleSheet.getStyleElement()
    styledComponentsStyleSheet.instance.clearTag()
    return <>{styles}</>
  })

  if (typeof window !== 'undefined') return <>{children}</>

  return (
    <StyleSheetManager sheet={styledComponentsStyleSheet.instance}>
      {children}
    </StyleSheetManager>
  )
}
```

</TabItem>
</Tabs>

root レイアウトの`children`をスタイルレジストリコンポーネントでラップします：

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="app/layout.tsx" switcher
import StyledComponentsRegistry from './lib/registry'

export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html>
      <body>
        <StyledComponentsRegistry>{children}</StyledComponentsRegistry>
      </body>
    </html>
  )
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="app/layout.js" switcher
import StyledComponentsRegistry from './lib/registry'

export default function RootLayout({ children }) {
  return (
    <html>
      <body>
        <StyledComponentsRegistry>{children}</StyledComponentsRegistry>
      </body>
    </html>
  )
}
```

</TabItem>
</Tabs>

## 外部スタイルシート {#external-stylesheets}

外部パッケージで公開されたスタイルシートは、`app`ディレクトリ内のどこにでもインポートできます。これは、コンポーネントに配置することもできます：

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="app/layout.tsx" switcher
import 'bootstrap/dist/css/bootstrap.css'

export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="en">
      <body className="container">{children}</body>
    </html>
  )
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="app/layout.js" switcher
import 'bootstrap/dist/css/bootstrap.css'

export default function RootLayout({ children }) {
  return (
    <html lang="en">
      <body className="container">{children}</body>
    </html>
  )
}
```

</TabItem>
</Tabs>

外部スタイルシートは、npmパッケージから直接インポートするか、ダウンロードしてコードベースと共に配置する必要があります。`<link rel="stylesheet" />`を使用することはできません。
