---
title: 'headers'
description: 'headers 関数の API リファレンス'
---

`headers`は、[Server Component](/docs/app/building-your-application/rendering/server-components)からHTTPの受信リクエストヘッダーを**読み取る**ための**非同期**関数です。

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="app/page.tsx" switcher
import { headers } from 'next/headers'

// HTTPリクエストヘッダーを取得する非同期関数
export default async function Page() {
  const headersList = await headers()
  const userAgent = headersList.get('user-agent') // user-agentヘッダーの値を取得
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="app/page.js" switcher
import { headers } from 'next/headers'

// HTTPリクエストヘッダーを取得する非同期関数
export default async function Page() {
  const headersList = await headers()
  const userAgent = headersList.get('user-agent') // user-agentヘッダーの値を取得
}
```

</TabItem>
</Tabs>

## リファレンス {#reference}

### パラメータ {#parameters}

`headers`は、パラメータを受け取りません。

### 戻り値 {#returns}

`headers`は、**読み取り専用**の[Web Headers](https://developer.mozilla.org/docs/Web/API/Headers)オブジェクトを返します。

- [`Headers.entries()`](https://developer.mozilla.org/docs/Web/API/Headers/entries): このオブジェクトに含まれるすべてのキー/値ペアを巡回するための[`イテレーター`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Iteration_protocols)を返します
- [`Headers.forEach()`](https://developer.mozilla.org/docs/Web/API/Headers/forEach): この`Headers`オブジェクトの各キー/値ペアに対して、提供された関数を1度ずつ実行します
- [`Headers.get()`](https://developer.mozilla.org/docs/Web/API/Headers/get): 特定の名前を持つヘッダー内のすべての値の[`String`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)シーケンスを返します
- [`Headers.has()`](https://developer.mozilla.org/docs/Web/API/Headers/has): `Headers`オブジェクトが特定のヘッダーを含んでいるかどうかを示すブール値を返します
- [`Headers.keys()`](https://developer.mozilla.org/docs/Web/API/Headers/keys): このオブジェクトに含まれるキー/値ペアのすべてのキーを巡回するための[`イテレーター`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Iteration_protocols)を返します
- [`Headers.values()`](https://developer.mozilla.org/docs/Web/API/Headers/values): このオブジェクトに含まれるキー/値ペアのすべての値を巡回するための[`イテレーター`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Iteration_protocols)を返します

## 知っておくと良いこと {#good-to-know}

- `headers`はPromiseを返す**非同期**関数です；`async/await`またはReactの[`use`](https://react.dev/reference/react/use)関数を使用する必要があります；
  - バージョン14以前では、`headers`は同期関数でした；後方互換性を保つためにNext.js 15ではまだ同期的にアクセスできますが、この動作は将来的に廃止される予定です；
- `headers`は読み取り専用のため、送信リクエストヘッダーを`set`または`delete`することはできません；
- `headers`は事前に返される値を知ることができない[動的API](/docs/app/building-your-application/rendering/server-components#server-rendering-strategies#dynamic-apis)です；そのため、これを使用するとルートが**[動的レンダリング](/docs/app/building-your-application/rendering/server-components#dynamic-rendering)**へと切り替わります；

## 例 {#examples}

### Authorizationヘッダーを使用する {#using-the-authorization-header}

```jsx title="app/page.js"
import { headers } from 'next/headers'

// Authorization ヘッダーを使用してAPIからユーザー情報を取得
export default async function Page() {
  const authorization = (await headers()).get('authorization')
  const res = await fetch('...', {
    headers: { authorization }, // Authorization ヘッダーを転送
  })
  const user = await res.json()

  return <h1>{user.name}</h1> // ユーザー名を表示
}
```

## バージョン履歴 {#version-history}

| バージョン   | 変更点                                                                                                                   |
| ------------ | ------------------------------------------------------------------------------------------------------------------------ |
| `v15.0.0-RC` | `headers`は非同期関数になりました；[codemod](/docs/app/building-your-application/upgrading/codemods#150)が利用可能です； |
| `v13.0.0`    | `headers`が導入されました；                                                                                              |
