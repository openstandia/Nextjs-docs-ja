---
title: 'headers'
description: 'headers 関数のAPIリファレンスです'
---

`headers`は、HTTPの受信リクエストヘッダーを[Server Component](/docs/app/building-your-application/rendering/server-components)から**読み取る**ことを可能にする**非同期**関数です。

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="app/page.tsx" switcher
import { headers } from 'next/headers'

// HTTPリクエストのヘッダーを取得するサンプル関数ページ
export default async function Page() {
  const headersList = await headers()
  const userAgent = headersList.get('user-agent') // ユーザーエージェントを取得
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="app/page.js" switcher
import { headers } from 'next/headers'

// HTTPリクエストのヘッダーを取得するサンプル関数ページ
export default async function Page() {
  const headersList = await headers()
  const userAgent = headersList.get('user-agent') // ユーザーエージェントを取得
}
```

</TabItem>
</Tabs>

## リファレンス {#reference}

### パラメータ {#parameters}

`headers` はパラメータを受け取りません。

### 戻り値 {#returns}

`headers` は、**読み取り専用**の [Web Headers](https://developer.mozilla.org/docs/Web/API/Headers) オブジェクトを返します。

- [`Headers.entries()`](https://developer.mozilla.org/docs/Web/API/Headers/entries): このオブジェクトに含まれるすべてのキーと値のペアを順に繰り返すための[`イテレータ`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Iteration_protocols)を返します
- [`Headers.forEach()`](https://developer.mozilla.org/docs/Web/API/Headers/forEach): この `Headers` オブジェクトの各キー/値ペアに対して、指定された関数を1度実行します
- [`Headers.get()`](https://developer.mozilla.org/docs/Web/API/Headers/get): 指定された名前の `Headers` オブジェクト内のヘッダーのすべての値の[`文字列`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)シーケンスを返します
- [`Headers.has()`](https://developer.mozilla.org/docs/Web/API/Headers/has): `Headers` オブジェクトが特定のヘッダーを含んでいるかどうかを示すブール値を返します
- [`Headers.keys()`](https://developer.mozilla.org/docs/Web/API/Headers/keys): このオブジェクトに含まれるすべてのキーと値のペアのキーを順に繰り返すための [`イテレータ`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Iteration_protocols) を返します
- [`Headers.values()`](https://developer.mozilla.org/docs/Web/API/Headers/values): このオブジェクトに含まれるすべてのキーと値のペアの値を順に繰り返すための [`イテレータ`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Iteration_protocols) を返します

## 知っておくと良いこと {#good-to-know}

- `headers` は**非同期**関数で、プロミスを返します。`async/await` または React の [`use`](https://react.dev/reference/react/use) 関数を使う必要があります。
  - バージョン14以前では、`headers` は同期関数でした。後方互換性を助けるため、Next.js 15では引き続き同期的にアクセスできますが、この動作は将来非推奨になる予定です。
- `headers` は読み取り専用であるため、リクエストヘッダーを `set` または `delete` することはできません。
- `headers` は戻り値が事前にわからない [Dynamic API](/docs/app/building-your-application/rendering/server-components#server-rendering-strategies#dynamic-apis) です。使用すると、ルートは **[dynamic rendering](/docs/app/building-your-application/rendering/server-components#dynamic-rendering)** に最適化されます。

## サンプル {#examples}

### Authorization ヘッダーを使う {#using-the-authorization-header}

```jsx title="app/page.js"
import { headers } from 'next/headers'

// Authorization ヘッダーを使用した例
export default async function Page() {
  const authorization = (await headers()).get('authorization') // Authorization ヘッダーを取得
  const res = await fetch('...', {
    headers: { authorization }, // Authorization ヘッダーを転送する
  })
  const user = await res.json()

  return <h1>{user.name}</h1> // ユーザー名を表示
}
```

## バージョン履歴 {#version-history}

| バージョン   | 変更内容                                                                                                                  |
| ------------ | ------------------------------------------------------------------------------------------------------------------------- |
| `v15.0.0-RC` | `headers` が非同期関数になりました。 [codemod](/docs/app/building-your-application/upgrading/codemods#150) が利用可能です |
| `v13.0.0`    | `headers` が導入されました                                                                                                |
