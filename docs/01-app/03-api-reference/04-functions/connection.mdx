---
title: 'connection'
description: 'connection関数のAPIリファレンス。'
---

`connection()`関数は、ユーザーからのリクエストが入るまでレンダリングを待機するように指示することができます;

これは、コンポーネントが[Dynamic APIs](/docs/app/building-your-application/rendering/server-components#dynamic-apis)を使用していないが、実行時に動的にレンダリングしたいときに便利です。これは通常、`Math.random()`や`new Date()`のように、意図的にレンダリングの結果を変更したい外部情報にアクセスするときに発生します。

<Tabs>
<TabItem value="ts" label="TypeScript">

```ts title="app/page.tsx" switcher
import { connection } from 'next/server'

export default async function Page() {
  await connection()
  // 以下はすべてprerenderingから除外されます
  const rand = Math.random()
  return <span>{rand}</span>
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="app/page.js" switcher
import { connection } from 'next/server'

export default async function Page() {
  await connection()
  // 以下はすべてprerenderingから除外されます
  const rand = Math.random()
  return <span>{rand}</span>
}
```

</TabItem>
</Tabs>

## リファレンス {#reference}

### 型 {#type}

```jsx
function connection(): Promise<void>
```

### パラメータ {#parameters}

- 関数にはパラメータはありません。

### 戻り値 {#returns}

- 関数は`void` Promiseを返します。これは消費することを意図していません。

## Good to know {#good-to-know}

- `connection`は、Next.jsの将来によりよく適合するために[`unstable_noStore`](/docs/app/api-reference/functions/unstable_noStore)を置き換えます;
- この関数は動的レンダリングが必要で、一般的なDynamic APIsが使用されていない場合にのみ必要です。

### バージョン履歴 {#version-history}

| バージョン   | 変更点                         |
| ------------ | ------------------------------ |
| `v15.0.0`    | `connection`が安定化されました |
| `v15.0.0-RC` | `connection`が導入されました   |
