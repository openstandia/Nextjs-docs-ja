---
title: 'cssChunking'
description: 'Next.jsアプリケーションでCSSファイルをどのようにチャンクするかを制御するために、`cssChunking`オプションを使用してください。'
version: 'experimental'
---

CSS Chunkingは、CSSファイルをチャンクに分割し、再配置することで、Webアプリケーションのパフォーマンスを向上させるための戦略です。これにより、アプリケーション全体のCSSを一度にロードするのではなく、特定のルートに必要なCSSのみをロードできます。

`next.config.js`ファイル内で`experimental.cssChunking`オプションを使用して、CSSファイルをどのようにチャンクするかを制御できます：

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="next.config.ts" switcher
import type { NextConfig } from 'next'

const nextConfig = {
  experimental: {
    cssChunking: true, // デフォルト
  },
} satisfies NextConfig

export default nextConfig
```

</TabItem>
<TabItem value="js" label="JavaScript">

```js title="next.config.js" switcher
/** @type {import('next').NextConfig} */
const nextConfig = {
  experimental: {
    cssChunking: true, // デフォルト
  },
}

module.exports = nextConfig
```

</TabItem>
</Tabs>

## オプション {#options}

- **`true` (デフォルト)**: Next.jsは可能な限りCSSファイルをマージし、インポート順からファイル間の明示的および暗示的な依存関係を決定して、チャンクの数とそれに伴うリクエストの数を減らします
- **`false`**: Next.jsはCSSファイルをマージまたは再配置しようとしません
- **`'strict'`**: Next.jsはファイルに正しい順序でインポートされたCSSファイルをロードします。これにより、より多くのチャンクとリクエストが生じる可能性があります

予期しないCSSの振る舞いに遭遇した場合、`'strict'`を使用することを検討してください。例えば、異なるファイルで異なる`import`順序 (`a`が前、`b`が後、またはその逆)で`a.css`と`b.css`をインポートする場合、`true`はファイルを任意の順序でマージし、それらの間に依存関係がないと仮定します。ただし、`b.css`が`a.css`に依存している場合は、ファイルがマージされないようにし、代わりにインポートされた順序でロードすることで、より多くのチャンクとリクエストが生じることがあるため、`'strict'`を使用したいかもしれません。

ほとんどのアプリケーションでは、`true`を推奨します。これはリクエストの数を減らし、パフォーマンスを向上させるためです。
