---
title: 'cssChunking'
description: 'Next.jsアプリケーションでCSSファイルのチャンクを制御するには、`cssChunking`オプションを使用します。'
version: 'experimental'
---

CSSチャンクは、Webアプリケーションのパフォーマンスを向上させるために、CSSファイルを分割して再編成する戦略です。これにより、アプリケーション全体のCSSを一度に読み込むのではなく、特定のルートに必要なCSSのみを読み込むことができます。

`next.config.js`ファイルで`experimental.cssChunking`オプションを使用して、CSSファイルのチャンク方法を制御できます：

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="next.config.ts" switcher
import type { NextConfig } from 'next'

const nextConfig = {
  experimental: {
    cssChunking: true, // デフォルト
  },
} satisfies NextConfig

export default nextConfig
```

</TabItem>
<TabItem value="js" label="JavaScript">

```js title="next.config.js" switcher
/** @type {import('next').NextConfig} */
const nextConfig = {
  experimental: {
    cssChunking: true, // デフォルト
  },
}

module.exports = nextConfig
```

</TabItem>
</Tabs>

## オプション {#options}

- **`true`（デフォルト）**：Next.jsは、チャンク数とリクエスト数を減らすために、インポート順からファイル間の明示的および暗黙的な依存関係を判断し、可能な限りCSSファイルをマージしようとします
- **`false`**：Next.jsは、CSSファイルをマージまたは再編成しようとしません
- **`'strict'`**：Next.jsは、ファイルにインポートされた順序で正しくCSSファイルを読み込みます。これにより、チャンクとリクエストが多くなる可能性があります

予期しないCSSの動作に遭遇した場合、`'strict'`の使用を検討するかもしれません。たとえば、異なるファイルで異なる`import`順序で`a.css`と`b.css`をインポートした場合（`a`が`b`より前、またはその逆）、`true`の場合はファイルが任意の順序でマージされ、これらの間に依存関係がないと仮定されます。しかし、`b.css`が`a.css`に依存している場合、ファイルがマージされないようにし、インポートされた順序で読み込むために`'strict'`を使用することができます。これは、チャンクとリクエストが多くなる可能性があります。

多くのアプリケーションでは、リクエストが減少しパフォーマンスが向上するため、`true`を推奨します。
