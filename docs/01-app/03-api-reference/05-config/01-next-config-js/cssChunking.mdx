---
title: 'cssChunking'
description: 'Next.jsアプリケーションでCSSファイルのチャンク化を制御する`cssChunking`オプションを使用します。'
version: 'experimental'
---

CSS Chunkingは、CSSファイルをチャンクに分割して再配置することで、Webアプリケーションのパフォーマンスを向上させる戦略です。すべてのアプリケーションのCSSを一度に読み込むのではなく、特定のルートに必要なCSSだけを読み込むことができます。

`next.config.js`ファイルで`experimental.cssChunking`オプションを使用して、CSSファイルがどのようにチャンク化されるかを制御できます：

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="next.config.ts" switcher
import type { NextConfig } from 'next'

const nextConfig = {
  experimental: {
    cssChunking: true, // デフォルト
  },
} satisfies NextConfig

export default nextConfig
```

</TabItem>
<TabItem value="js" label="JavaScript">

```js title="next.config.js" switcher
/** @type {import('next').NextConfig} */
const nextConfig = {
  experimental: {
    cssChunking: true, // デフォルト
  },
}

module.exports = nextConfig
```

</TabItem>
</Tabs>

## オプション {#options}

- **`true`（デフォルト）**: Next.jsは可能な限りCSSファイルをマージし、ファイル間の明示的および暗黙的な依存関係をインポート順から特定し、チャンク数およびリクエスト数を減らします
- **`false`**: Next.jsはCSSファイルのマージや再配置を試みません
- **`'strict'`**: Next.jsはファイルにインポートされた順序でCSSファイルを正しく読み込みます。これにより、チャンク数およびリクエスト数が増える可能性があります

予期しないCSSの動作に遭遇した際は、`'strict'`を使用することを検討してください。例えば、異なるファイルで`a.css`と`b.css`を異なる`import`順序でインポート（`a`が先か`b`が先か）した場合、`true`はファイルを任意の順序でマージし、依存関係がないものと見なします｡ ただし、`b.css`が`a.css`に依存している場合、ファイルがマージされるのを防ぎ、インポートされた順序でファイルを読み込むようにするために`'strict'`を使用することを検討すべきです - これにより、チャンクおよびリクエストが増える可能性があります。

ほとんどのアプリケーションでは、`true`を推奨します。これにより、リクエスト数が減り、パフォーマンスが向上します。
