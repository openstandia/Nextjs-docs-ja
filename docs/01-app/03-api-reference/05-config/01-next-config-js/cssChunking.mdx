---
title: 'cssChunking'
description: 'Next.jsアプリケーションでCSSファイルをどのように分割するかを制御するための`cssChunking`オプションを使います。'
version: 'experimental'
---

CSS Chunkingは、CSSファイルをチャンクに分割し、再配置することにより、Webアプリケーションのパフォーマンスを向上させるための戦略です。この方法では、すべてのアプリケーションのCSSを一度にロードするのではなく、特定のルートに必要なCSSだけをロードすることができます。

`next.config.js`ファイルで`experimental.cssChunking`オプションを使用して、CSSファイルがどのようにチャンクされるかを制御できます。

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="next.config.ts" switcher
import type { NextConfig } from 'next'

const nextConfig = {
  experimental: {
    cssChunking: true, // デフォルト
  },
} satisfies NextConfig

export default nextConfig
```

</TabItem>
<TabItem value="js" label="JavaScript">

```js title="next.config.js" switcher
/** @type {import('next').NextConfig} */
const nextConfig = {
  experimental: {
    cssChunking: true, // デフォルト
  },
}

module.exports = nextConfig
```

</TabItem>
</Tabs>

## オプション {#options}

- **`true`（デフォルト）**: Next.jsは可能な限りCSSファイルをマージしようとし、ファイル間の依存関係をインポートの順序から判断して、チャンクとリクエストの数を減らします
- **`false`**: Next.jsはCSSファイルのマージや再配置を試みません
- **`'strict'`**: Next.jsはあなたのファイルにインポートされている順序でCSSファイルをロードします。これにより、チャンクとリクエストが増える可能性があります

予期しないCSSの動作が発生した場合、`'strict'`を使用することを検討できます。たとえば、異なるファイルで異なるインポート順（`a`が`b`の前、または`b`が`a`の前）で`a.css`と`b.css`をインポートした場合、`true`では順序を問わずファイルをマージし、依存関係がないと仮定します。しかし、`b.css`が`a.css`に依存している場合、ファイルがマージされないように`'strict'`を使用し、インポートされた順序でロードすることを望むかもしれません - これは、より多くのチャンクとリクエストになる可能性があります。

ほとんどのアプリケーションでは、`true`を推奨します。これにより、リクエストが少なくなり、パフォーマンスが向上します。
