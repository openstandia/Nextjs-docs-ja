---
title: 'cssChunking'
description: 'Next.jsアプリケーションでCSSファイルのチャンク処理を制御するために、`cssChunking`オプションを使用します。'
version: 'experimental'
---

CSS Chunkingは、CSSファイルを分割して並び替えることでWebアプリケーションのパフォーマンスを改善する戦略です。これにより、アプリケーション全体のCSSを一度に読み込むのではなく、特定のルートに必要なCSSのみを読み込むことができます。

`next.config.js`ファイル内で`experimental.cssChunking`オプションを使用して、CSSファイルのチャンク方法を制御できます：

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="next.config.ts" switcher
import type { NextConfig } from 'next'

const nextConfig = {
  experimental: {
    cssChunking: true, // デフォルト
  },
} satisfies NextConfig

export default nextConfig
```

</TabItem>
<TabItem value="js" label="JavaScript">

```js title="next.config.js" switcher
/** @type {import('next').NextConfig} */
const nextConfig = {
  experimental: {
    cssChunking: true, // デフォルト
  },
}

module.exports = nextConfig
```

</TabItem>
</Tabs>

## オプション {#options}

- **`true` (デフォルト)**: Next.jsは可能な限りCSSファイルをマージし、インポート順序からファイル間の明示的および暗黙の依存関係を​​決定してチャンクの数と要求の数を減らします
- **`false`**: Next.jsはCSSファイルのマージや再編成を試みません
- **`'strict'`**: Next.jsはファイルにインポートされた順序でCSSファイルを正しい順序で読み込みます；これはより多くのチャンクと要求を発生させる可能性があります

予期しないCSSの振る舞いに遭遇した場合は、`'strict'`を使用することを検討するかもしれません。例えば、異なるファイルで`a.css`と`b.css`を異なる`import`順序でインポートする場合（`a`を`b`の前、またはその逆）、`true`にするとファイルが任意の順序でマージされ、間に依存関係がないと仮定されます。しかし、もし`b.css`が`a.css`に依存している場合、ファイルのマージを防ぎ、インポートされた順序で読み込むために`'strict'`を使用することが望ましく、これにより多くのチャンクと要求が発生する可能性があります。

ほとんどのアプリケーションにおいては、より少ない要求とより良いパフォーマンスをもたらすため、`true`をお勧めします。
