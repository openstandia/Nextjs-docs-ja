---
title: 'cssChunking'
description: 'Next.jsアプリケーションでCSSファイルのチャンク化を制御するために、`cssChunking`オプションを使用します。'
version: 'experimental'
---

CSS Chunkingは、CSSファイルを分割および再配置する戦略であり、Webアプリケーションのパフォーマンスを向上させます。これにより、アプリケーション全体のCSSを一度に読み込むのではなく、特定のルートに必要なCSSだけを読み込むことができます。

`next.config.js`ファイルで`experimental.cssChunking`オプションを使用して、CSSファイルのチャンク化を制御できます：

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="next.config.ts" switcher
import type { NextConfig } from 'next'

const nextConfig = {
  experimental: {
    cssChunking: true, // 初期値
  },
} satisfies NextConfig

export default nextConfig
```

</TabItem>
<TabItem value="js" label="JavaScript">

```js title="next.config.js" switcher
/** @type {import('next').NextConfig} */
const nextConfig = {
  experimental: {
    cssChunking: true, // 初期値
  },
}

module.exports = nextConfig
```

</TabItem>
</Tabs>

## オプション {#options}

- **`true` (初期値)**: Next.jsは可能な限りCSSファイルをマージしようとし、ファイル間の明示的および暗黙的な依存関係をimport順から判断し、チャンクの数およびリクエスト数を減少させます
- **`false`**: Next.jsはCSSファイルをマージしたり再配置しないようにします
- **`'strict'`**: Next.jsはCSSファイルをimportされた順序で正しく読み込みます。これにより、より多くのチャンクとリクエストが必要になることがあります

予期しないCSSの振る舞いに遭遇した場合、`'strict'`の使用を検討することがあります。たとえば、異なるファイルにおいて異なる`import`順序で`a.css`と`b.css`をインポートした場合（`a`が`b`の前、または`b`が`a`の前）、`true`ではファイルを任意の順序でマージし、それらの間に依存関係がないと仮定します。しかし、`b.css`が`a.css`に依存している場合、ファイルがマージされないようにするためには`'strict'`を使用して、それらをインポートされた順序で読み込む必要があります。これにより、より多くのチャンクおよびリクエストが発生する可能性があります。

ほとんどのアプリケーションでは、リクエストが少なくなりパフォーマンスが向上するため`true`を推奨します。
