---
title: 'reactCompiler'
description: 'React Compilerを有効にして、コンポーネントのレンダリングを自動的に最適化します'
version: 'experimental'
---

Next.js 15では、[React Compiler](https://react.dev/learn/react-compiler)のサポートが導入されました；コンパイラは、コンポーネントのレンダリングを自動的に最適化することでパフォーマンスを向上させます；これにより、開発者が`useMemo`や`useCallback`といったAPIを通じて行う手作業のメモ化の量が減少します；

これを使用するには、Next.js 15にアップグレードし、`babel-plugin-react-compiler`をインストールします：

```bash title="Terminal"
npm install babel-plugin-react-compiler
```

次に、`next.config.js`に`experimental.reactCompiler`オプションを追加します：

<Tabs>
<TabItem value="ts" label="TypeScript">

```ts title="next.config.ts" switcher
import type { NextConfig } from 'next'

const nextConfig: NextConfig = {
  experimental: {
    reactCompiler: true,
  },
}

export default nextConfig
```

</TabItem>
<TabItem value="js" label="JavaScript">

```js title="next.config.js" switcher
/** @type {import('next').NextConfig} */
const nextConfig = {
  experimental: {
    reactCompiler: true,
  },
}

module.exports = nextConfig
```

</TabItem>
</Tabs>

> **注意:** 現在、React CompilerをNext.jsで使用するには、Babelプラグインを通じてのみ可能です；これにより、Next.jsのデフォルトの[Rustベースのコンパイラ](/docs/architecture/nextjs-compiler)から除外されるため、ビルド時間が長くなる可能性があります；私たちはReact Compilerをデフォルトのコンパイラとしてサポートするために作業しています；

[React Compiler](https://react.dev/learn/react-compiler)や、[利用可能なNext.js設定オプション](https://react.dev/learn/react-compiler#usage-with-nextjs)についてさらに学びましょう；

## Annotations {#annotations}

コンパイラを「選択式」モードで実行するように設定できます：

<Tabs>
<TabItem value="ts" label="TypeScript">

```ts title="next.config.ts" switcher
import type { NextConfig } from 'next'

const nextConfig: NextConfig = {
  experimental: {
    reactCompiler: {
      compilationMode: 'annotation',
    },
  },
}

export default nextConfig
```

</TabItem>
<TabItem value="js" label="JavaScript">

```js title="next.config.js" switcher
/** @type {import('next').NextConfig} */
const nextConfig = {
  experimental: {
    reactCompiler: {
      compilationMode: 'annotation',
    },
  },
}

module.exports = nextConfig
```

</TabItem>
</Tabs>

次に、特定のコンポーネントやフックをReactの`"use memo"`ディレクティブで注釈を付けて、選択的に使用することができます：

<Tabs>
<TabItem value="ts" label="TypeScript">

```ts title="app/page.tsx" switcher
export default function Page() {
  'use memo'
  // ...
}
```

</TabItem>
<TabItem value="js" label="JavaScript">

```js title="app/page.js" switcher
export default function Page() {
  'use memo'
  // ...
}
```

</TabItem>
</Tabs>

> **注意:** Reactの`"use no memo"`ディレクティブを使用して、逆の効果でコンポーネントやフックをオプトアウトすることもできます；
