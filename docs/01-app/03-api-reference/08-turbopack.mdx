---
title: 'Turbopack'
description: 'Turbopackは、JavaScriptとTypeScriptに最適化されたインクリメンタルバンドラーで、Rustで書かれ、Next.jsに組み込まれています。'
---

{/* このドキュメントの内容はapp routerとpages routerの間で共有されています。`<PagesOnly>Content</PagesOnly>`コンポーネントを使用して、Pages Routerに特化したコンテンツを追加できます。共有されるコンテンツは、コンポーネントでラップしないでください。 */}

[Turbopack](https://turbo.build/pack)は、JavaScriptとTypeScriptに最適化されたインクリメンタルバンドラーで、Rustで書かれ、Next.jsに組み込まれています。Turbopackは、ローカル開発をより高速にするために、Next.jsの`pages`ディレクトリおよび`app`ディレクトリで使用できます。

Turbopackを有効にするには、Next.js開発サーバーを実行する際に、`--turbopack`フラグを使用してください。

```json title="package.json" highlight={3}
{
  "scripts": {
    "dev": "next dev --turbopack",
    "build": "next build",
    "start": "next start",
    "lint": "next lint"
  }
}
```

## 参照 {#reference}

### サポートされている機能 {#supported-features}

Next.jsのTurbopackは、ほとんどのユーザーに対してゼロコンフィギュレーションを要求し、より高度な使用例のために拡張可能です。Turbopackの現在サポートされている機能の詳細については、[APIリファレンス](/docs/app/api-reference/config/next-config-js/turbo)を参照してください。

### サポートされていない機能 {#unsupported-features}

Turbopackは現在、`next dev`のみをサポートしており、`next build`はサポートしていません。安定性に向けて、ビルドのサポートに関して作業中です。

これらの機能は現在サポートされていません：

- Turbopackは[Lightning CSS](https://lightningcss.dev/)を活用しており、一部の低使用CSSモジュール機能をサポートしていません
  - 独立した疑似クラスとしての`:local`と`:global`。サポートされているのは関数形式のみで、例：`:global(a)`。
  - CSS変数に取って代わられた@valueルール。
  - `:import`および`:export`ICSSルール。
- [`webpack()`](/docs/app/api-reference/config/next-config-js/webpack)設定が`next.config.js`でサポートされていません
  - TurbopackはWebpackを置き換えるため、webpack設定はサポートされていません。
  - Turbopackの設定方法については[ドキュメント](/docs/app/api-reference/config/next-config-js/turbo)を参照してください。
- Babel (`.babelrc`)
  - Turbopackは全てのトランスパイルと最適化のために、[SWC](/docs/architecture/nextjs-compiler#why-swc)コンパイラを活用しています。したがって、Babelはデフォルトで含まれていません。
  - `.babelrc`ファイルがある場合、Next.jsにより多くの一般的なBabelプラグインがSWC変換として提供されるため、もはや必要ないかもしれません。この詳細については、[コンパイラドキュメント](/docs/architecture/nextjs-compiler#supported-features)を参照してください。
- App Routerでのroot レイアウトを自動的に作成。
  - この動作は現在サポートされておらず、代わりに望む場所で手動でroot レイアウトを追加するようにエラーが表示されます。
- `@next/font`（レガシーフォントサポート）。
  - `@next/font`は`next/font`に置き換えられました。[`next/font`](/docs/app/building-your-application/optimizing/fonts)はTurbopackで完全にサポートされています。

## 例 {#examples}

### トレースファイルの生成 {#generating-trace-files}

トレースファイルは、Next.jsチームがパフォーマンスメトリクスとメモリ使用量を調査し改善するのに役立ちます。トレースファイルを生成するには、`next dev --turbopack`コマンドに`NEXT_TURBOPACK_TRACING=1`を追加します。これにより、`.next/trace.log`ファイルが生成されます。

Turbopackのパフォーマンスとメモリ使用量に関連する問題を報告する際は、[GitHub](https://github.com/vercel/next.js)のIssueにトレースファイルを添付してください。
