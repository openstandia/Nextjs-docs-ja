---
title: 'プロジェクトの組織化とファイルの配置'
nav_title: 'プロジェクトの組織化'
description: 'Next.jsプロジェクトの組織化とファイルの配置について学びましょう。'
related:
  links:
    - app/building-your-application/routing/defining-routes
    - app/building-your-application/routing/route-groups
    - app/building-your-application/configuring/src-directory
---

[フォルダとファイルの規約](/docs/app/getting-started/project-structure)とは別に、Next.js はプロジェクトファイルを組織化し、配置する際に特に強い意見を持っていません（**無言語**）。

このページでは、プロジェクトを組織するために使用できるデフォルトの動作と機能を共有します。

- [デフォルトでの安全な配置](#safe-colocation-by-default)
- [プロジェクトの組織化の機能](#project-organization-features)
- [プロジェクトの組織化の戦略](#project-organization-strategies)

## デフォルトでの安全な配置 {#safe-colocation-by-default}

`app`ディレクトリでは、[ネストされたフォルダ階層](/docs/app/building-your-application/routing#route-segments) がルート構造を定義します。

各フォルダはルートセグメントを表し、URLパス内の対応するセグメントにマッピングされます。

しかし、ルート構造がフォルダを通じて定義されるにもかかわらず、`page.js`または`route.js`ファイルがルートセグメントに追加されるまで、ルートは**公開されません**。

<Image
  alt="ルートが公開されるためには、ルートセグメントにpage.jsまたはroute.jsファイルが追加されなければなりません。"
  srcLight="/docs/light/project-organization-not-routable.png"
  srcDark="/docs/dark/project-organization-not-routable.png"
  width="1600"
  height="444"
/>

ルートが公開可能になった場合であっても、クライアントに送信されるのは`page.js`または`route.js`から返される**コンテンツのみ**です。

<Image
  alt="page.js と route.js ファイルがルートを公開可能にする方法を示す図"
  srcLight="/docs/light/project-organization-routable.png"
  srcDark="/docs/dark/project-organization-routable.png"
  width="1600"
  height="687"
/>

これは、**プロジェクトファイル**が意図せずにルート可能になることなく、`app`ディレクトリ内のルートセグメントに**安全に配置**できることを意味します。

<Image
  alt="page.jsまたはroute.jsファイルを含むセグメントであっても、配置されたプロジェクトファイルがルート可能にならないことを示す図"
  srcLight="/docs/light/project-organization-colocation.png"
  srcDark="/docs/dark/project-organization-colocation.png"
  width="1600"
  height="1011"
/>

> **Good to know**:
>
> - これは、`pages`ディレクトリとは異なり、`pages`のいかなるファイルもルートと見なされます。
> - プロジェクトファイルを`app`に配置することは可能ですが、配置する必要はありません。好みに応じて、[`app`ディレクトリの外に保持する](#store-project-files-outside-of-app)ことができます。

## プロジェクトの組織化の機能 {#project-organization-features}

Next.js はプロジェクトを組織するためのいくつかの機能を提供します。

### プライベートフォルダ {#private-folders}

プライベートフォルダは、フォルダ名の先頭にアンダースコアを付けることで作成できます：`_folderName`

これにより、フォルダはプライベートな実装詳細であり、ルーティングシステムによって考慮されるべきではないことを示します。したがって、フォルダとそのすべてのサブフォルダがルーティングから外れます。

<Image
  alt="プライベートフォルダを使用したフォルダ構造の例"
  srcLight="/docs/light/project-organization-private-folders.png"
  srcDark="/docs/dark/project-organization-private-folders.png"
  width="1600"
  height="849"
/>

`app`ディレクトリ内のファイルは[デフォルトで安全に配置](#safe-colocation-by-default)できるため、配置にはプライベートフォルダは必要ありません。ただし、以下の目的で役立ちます：

- UI ロジックとルーティングロジックを分離する。
- プロジェクトと Next.js のエコシステム全体で内部ファイルを一貫して整理する。
- コードエディタでファイルをソートしてグループ化する。
- 今後の Next.js のファイル規約との名前の競合を避ける。

> **Good to know**:
>
> - フレームワーク規約ではありませんが、プライベートフォルダの外のファイルも同じアンダースコアのパターンを使用して「プライベート」としてマークすることを検討してもよいでしょう。
> - アンダースコアで始まるURLセグメントを作成するには、フォルダ名に `%5F`（アンダースコアのURLエンコード形式）を付けてください：`%5FfolderName`
> - プライベートフォルダを使用しない場合は、予期しない名前の競合を防ぐために、Next.jsの[特別なファイル規約](/docs/app/getting-started/project-structure#routing-files)を知っておくと役立ちます。

### ルートグループ {#route-groups}

ルートグループは、フォルダを括弧で括ることで作成できます：（`folderName`）

これにより、フォルダは組織的な目的のためのものであり、ルートのURLパスに含まれるべきではないことを示します。

<Image
  alt="ルートグループを使用したフォルダ構造の例"
  srcLight="/docs/light/project-organization-route-groups.png"
  srcDark="/docs/dark/project-organization-route-groups.png"
  width="1600"
  height="849"
/>

ルートグループは以下に役立ちます：

- [サイトのセクション、意図、またはチームごとにルートをグループ化する](/docs/app/building-your-application/routing/route-groups#organize-routes-without-affecting-the-url-path)
- 同一のルートセグメントレベルでのネストされたレイアウトを有効化する：
  - [複数のroot レイアウトを含めて、同じセグメント内に複数のネストされたレイアウトを作成する](/docs/app/building-your-application/routing/route-groups#creating-multiple-root-layouts)
  - [共通セグメント内のルートのサブセットにレイアウトを追加する](/docs/app/building-your-application/routing/route-groups#opting-specific-segments-into-a-layout)

### `src` ディレクトリ {#src-directory}

Next.js は、アプリケーションコード（`app`を含む）をオプションの[`src`ディレクトリ](/docs/app/building-your-application/configuring/src-directory)内に格納することをサポートしています。これにより、アプリケーションコードをプロジェクトのルートにある構成ファイルから分離できます。

<Image
  alt="`src`ディレクトリを使用したフォルダ構造の例"
  srcLight="/docs/light/project-organization-src-directory.png"
  srcDark="/docs/dark/project-organization-src-directory.png"
  width="1600"
  height="687"
/>

### モジュールパスエイリアス {#module-path-aliases}

Next.js は、深くネストされたプロジェクトファイル全体のインポートを読みやすく、保守しやすくするための[モジュールパスエイリアス](/docs/app/getting-started/installation#set-up-absolute-imports-and-module-path-aliases)をサポートしています。

```jsx title="app/dashboard/settings/analytics/page.js"
// 変更前
import { Button } from '../../../components/button'

// 変更後
import { Button } from '@/components/button'
```

## プロジェクトの組織化の戦略 {#project-organization-strategies}

Next.jsプロジェクト内で自分のファイルやフォルダをどう整理するかについて「正しい」または「間違った」方法はありません。

以下のセクションでは、一般的な戦略の非常に高レベルな概要を一覧にしています。最も簡単な結論は、自分とチームにとって適切な戦略を選び、プロジェクト全体で一貫性を持たせることです。

> **Good to know**: 以下の例では、`components`と`lib`フォルダを一般化されたプレースホルダーとして使用しています。その名前には特にフレームワークの意味がありませず、`ui`、`utils`、`hooks`、`styles`など、ほかのフォルダを使用するかもしれません。

### プロジェクトファイルを`app`の外に保存する {#store-project-files-outside-of-app}

この戦略では、すべてのアプリケーションコードを**プロジェクトのルート**にある共有フォルダに保存し、`app`ディレクトリを純粋にルーティング用に保ちます。

<Image
  alt="appの外側にプロジェクトファイルを保存するフォルダ構造の例"
  srcLight="/docs/light/project-organization-project-root.png"
  srcDark="/docs/dark/project-organization-project-root.png"
  width="1600"
  height="849"
/>

### `app`内のトップレベルフォルダにプロジェクトファイルを保存する {#store-project-files-in-top-level-folders-inside-of-app}

この戦略では、すべてのアプリケーションコードを**`app`ディレクトリのルート**の共有フォルダに保存します。

<Image
  alt="app 内にプロジェクトファイルを持つフォルダ構造の例"
  srcLight="/docs/light/project-organization-app-root.png"
  srcDark="/docs/dark/project-organization-app-root.png"
  width="1600"
  height="849"
/>

### 機能やルートごとにプロジェクトファイルを分割する {#split-project-files-by-feature-or-route}

この戦略では、グローバルに共有されるアプリケーションコードをルート`app`ディレクトリに保存し、より特定的なアプリケーションコードをそれを使用するルートセグメントに**分割**します。

<Image
  alt="機能やルートごとにプロジェクトファイルを分割するフォルダ構造の例"
  srcLight="/docs/light/project-organization-app-root-split.png"
  srcDark="/docs/dark/project-organization-app-root-split.png"
  width="1600"
  height="1011"
/>
