---
title: 'App Router'
description: '新しいApp Routerを使用して、Next.jsとReactの最新機能を活用する。これには、レイアウト、Server Components、Suspenseなどが含まれます。'
---

{/* NOTE: このinfoは手動で追加しています。自動翻訳等で更新され消えてしまった場合、必要に応じて再度追加しなおしてください */}

:::info

本ページは以下のページを翻訳したものになります。

https://nextjs.org/docs/app

公式ドキュメントのサイドバーのメニューには表示されおりませんが、上記URLから本ページの翻訳元のページを確認することができます。

:::


Next.jsのApp Routerは、Reactの最新機能である[Server Components](/docs/app/building-your-application/rendering/server-components)、[Suspenseを用いたストリーミング](/docs/app/building-your-application/routing/loading-ui-and-streaming#streaming-with-suspense)、および[Server Actions](/docs/app/building-your-application/data-fetching/server-actions-and-mutations)を使用してアプリケーションを構築するための新しいモデルを提供します。

App Routerを使用するには、[最初のページを作成](/docs/app/building-your-application/routing/layouts-and-templates)してみてください。

## よくある質問

### レイアウトでリクエストオブジェクトにアクセスするにはどうすればよいですか？

生のリクエストオブジェクトにアクセスすることは意図的にできません。しかし、[`headers`](/docs/app/api-reference/functions/headers)や[`cookies`](/docs/app/api-reference/functions/cookies)を経由してサーバー専用の関数を通じてアクセスできます。また、[cookieを設定](#how-can-i-set-cookies)することも可能です。

[Layouts](/docs/app/building-your-application/routing/layouts-and-templates#layouts)は再レンダリングされません。ページ間を移動する際に不要な計算を回避するためにキャッシュされて再利用されます。レイアウトを生のリクエストからアクセスすることを制限することで、Next.jsはレイアウト内での遅延やコストが大きいと考えられるユーザーコードの実行を防ぎ、性能に悪影響を与えることを避けることができます。

この設計は、異なるページ間でのレイアウトの一貫した予測可能な挙動を保証し、開発とデバッグを簡素化します。

構築しているUIパターンによっては、[Parallel Routes](/docs/app/building-your-application/routing/parallel-routes)を使って同じレイアウト内に複数のページをレンダリングでき、ルートセグメントやURLの検索パラメーターにアクセスできます。

### ページでURLにアクセスするにはどうすればよいですか？

デフォルトでは、ページはServer Componentsです。指定されたページに対して[`params`](/docs/app/api-reference/file-conventions/page#params-optional)プロップを通じてルートセグメントにアクセスすることができ、[`searchParams`](/docs/app/api-reference/file-conventions/page#searchparams-optional)プロップを通じてURLの検索パラメーターにアクセスできます。

もしClient Componentsを使用する場合は、より複雑なルートのために[`usePathname`](/docs/app/api-reference/functions/use-pathname)、[`useSelectedLayoutSegment`](/docs/app/api-reference/functions/use-selected-layout-segment)、および[`useSelectedLayoutSegments`](/docs/app/api-reference/functions/use-selected-layout-segments)を使用できます。

さらに、構築しているUIパターンによっては、[Parallel Routes](/docs/app/building-your-application/routing/parallel-routes)を使用して同じレイアウトに複数のページをレンダリングでき、ルートセグメントやURLの検索パラメーターにアクセスできます。

### Server Componentからリダイレクトするにはどうすればよいですか？

ページから相対または絶対URLにリダイレクトするには、[`redirect`](/docs/app/api-reference/functions/redirect)を使用します。[`redirect`](/docs/app/api-reference/functions/redirect)は一時的な（307）リダイレクトであり、[`permanentRedirect`](/docs/app/api-reference/functions/permanentRedirect)は永久的な（308）リダイレクトです。これらの関数はUIのストリーミング中に使用されると、クライアント側でリダイレクトを発生させるためのmetaタグを挿入します。

### App Routerで認証を処理するにはどうすればよいですか？

App Routerをサポートする一般的な認証ソリューションは次のとおりです：

- [NextAuth.js](https://next-auth.js.org/configuration/nextjs#in-app-router)
- [Clerk](https://clerk.com/docs/quickstarts/nextjs)
- [Stack Auth](https://docs.stack-auth.com/getting-started/setup)
- [Auth0](https://github.com/auth0/nextjs-auth0#app-router)
- [Stytch](https://stytch.com/docs/example-apps/frontend/nextjs)
- [Kinde](https://kinde.com/docs/developer-tools/nextjs-sdk/)
- [WorkOS](https://workos.com/docs/user-management)
- またはセッションやJWTを手動で処理する

### Cookieを設定するにはどうすればよいですか？

[Server Actions](/docs/app/building-your-application/data-fetching/server-actions-and-mutations#cookies)や[Route Handlers](/docs/app/building-your-application/routing/route-handlers)内で[`cookies`](/docs/app/api-reference/functions/cookies)関数を使用してcookieを設定できます。

HTTPはストリーミングが始まった後にcookieを設定することを許可していないため、ページやレイアウトから直接cookieを設定することはできません。[ミドルウェア](/docs/app/building-your-application/routing/middleware#using-cookies)からcookieを設定することも可能です。

### マルチテナントアプリを構築するにはどうすればよいですか？

複数のテナントに対応する単一のNext.jsアプリケーションを構築したい場合、推奨のアーキテクチャを示す[例を構築](https://vercel.com/templates/next.js/platforms-starter-kit)しました。

### App Routerのキャッシュを無効にするにはどうすればよいですか？

Next.jsには複数のキャッシュレイヤがあり、キャッシュの異なる部分を無効にするための複数の方法があります。[キャッシュについてもっと学びましょう](/docs/app/building-your-application/caching)。

### App Routerを使用して構築された包括的なオープンソースアプリケーションはありますか？

はい。[Next.js Commerce](https://vercel.com/templates/next.js/nextjs-commerce)や[Platforms Starter Kit](https://vercel.com/templates/next.js/platforms-starter-kit)は、App Routerを使用した大規模なオープンソースの例を2つご覧いただけます。

## さらに学ぶ

- [ルーティングの基礎](/docs/app/building-your-application/routing)
- [データフェッチとキャッシング](/docs/app/building-your-application/data-fetching/fetching)
- [インクリメンタル静的再生成](/docs/app/building-your-application/data-fetching/incremental-static-regeneration)
- [フォームとミューテーション](/docs/app/building-your-application/data-fetching/server-actions-and-mutations)
- [キャッシング](/docs/app/building-your-application/caching)
- [レンダリングの基礎](/docs/app/building-your-application/rendering)
- [Server Components](/docs/app/building-your-application/rendering/server-components)
- [Client Components](/docs/app/building-your-application/rendering/client-components)

{/* NOTE: この <DocCardList /> は手動で追加しています。自動翻訳等で更新され消えてしまった場合、必要に応じて再度追加しなおしてください */}

<DocCardList />