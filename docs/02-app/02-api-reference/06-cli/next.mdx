---
title: next CLI
description: Next.js CLIを使用してアプリケーションを実行およびビルドする方法を学びます。
---

{/* このドキュメントの内容はアプリとページルーターの間で共有されています。ページルーターに特有のコンテンツを追加する場合は、`<PagesOnly>Content</PagesOnly>`コンポーネントを使用できます。共有コンテンツはコンポーネントで囲まないでください。 */}

Next.js CLIを使用すると、アプリケーションの開発、ビルド、起動などが可能です。

基本的な使用方法：

```bash title="Terminal"
npm run next [command] [options]
```

## 参照

次のオプションが利用可能です：

| オプション             | 説明                             |
| ---------------------- | -------------------------------- |
| `-h` または `--help`   | すべての利用可能なオプションを表示します |
| `-v` または `--version`| Next.jsのバージョン番号を出力します   |

### コマンド

次のコマンドが利用可能です：

| コマンド                               | 説明                                                                                                                                                                        |
| -------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [`dev`](#next-dev-options)             | ホットモジュールリロード、エラーレポートなどの機能を備えた開発モードでNext.jsを起動します                                                                                     |
| [`build`](#next-build-options)         | アプリケーションの最適化された本番ビルドを作成します 各ルートの情報を表示します                                                                                              |
| [`start`](#next-start-options)         | 本番モードでNext.jsを起動します アプリケーションは最初に`next build`でコンパイルされている必要があります                                                                    |
| [`info`](next-info-options)            | 現在のシステムに関する関連情報を表示します この情報はNext.jsのバグを報告する際に使用できます                                                                                |
| [`lint`](next-lint-options)            | `/src`、`/app`、`/pages`、`/components`、および`/lib`ディレクトリ内のすべてのファイルに対してESLintを実行します また、ESLintがまだ設定されていない場合は必要な依存関係のインストールをガイドします   |
| [`telemetry`](next-telemetry-options)  | Next.jsの完全に匿名のテレメトリ収集を有効または無効にします                                                                                                                |

> **Good to know**: コマンドなしで`next`を実行すると、`next dev`のエイリアスになります。

### `next dev`オプション

`next dev`は、ホットモジュールリロード（HMR）、エラーレポートなどの機能を備えた開発モードでアプリケーションを起動します。次のオプションが利用可能です：

| オプション                                  | 説明                                                                                                                  |
| ------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------- |
| `-h, --help`                                | すべての利用可能なオプションを表示します                                                                               |
| `[directory]`                               | アプリケーションをビルドするディレクトリ ディレクトリを指定しない場合、現在のディレクトリが使用されます                              |
| `--turbo`                                   | [Turbopack](https://nextjs.org/docs/architecture/turbopack)を使用して開発モードを開始します                              |
| `-p` または `--port <port>`                 | アプリケーションを起動するポート番号を指定します デフォルト: 3000 環境変数: PORT                                          |
| `-H` または `--hostname <hostname>`         | アプリケーションを起動するホスト名を指定します 他のデバイスでアプリケーションを利用可能にするのに便利です デフォルト: 0.0.0.0 |
| `--experimental-https`                      | HTTPSでサーバーを起動し、自己署名証明書を生成します                                                                     |
| `--experimental-https-key <path>`           | HTTPSキー ファイルへのパスを指定します                                                                                   |
| `--experimental-https-cert <path>`          | HTTPS証明書ファイルへのパスを指定します                                                                               |
| `--experimental-https-ca <path>`            | HTTPS証明書作権 利ファイルへのパスを指定します                                                                         |
| `--experimental-upload-trace <traceUrl>`    | デバッグトレースの一部をリモートHTTP URLへ報告します                                                                     |

### `next build`オプション

`next build`は、アプリケーションの最適化された本番ビルドを作成します。出力には各ルートの情報が表示されます。例えば：

```bash title="Terminal"
Route (app)                              Size     First Load JS
┌ ○ /_not-found                          0 B               0 kB
└ ƒ /products/[id]                       0 B               0 kB

○  (Static)   静的コンテンツとしてプリレンダリング
ƒ  (Dynamic)  リクエスト時にサーバー側でレンダリング
```

- **Size**: クライアントサイドでページにナビゲートするときにダウンロードされるアセットのサイズ 各ルートのサイズにはその依存関係のみが含まれます
- **First Load JS**: サーバーからページにアクセスするときにダウンロードされるアセットのサイズ すべてのJSの共有部分は別のメトリクスとして表示されます

これらの値は両方とも[**gzipで圧縮**](/docs/app/api-reference/next-config-js/compress)されています。初回読み込みは緑、黄色、または赤で示されています。パフォーマンスの良いアプリケーションを目指すために緑を目指しましょう。

次のオプションが`next build`コマンドで使用可能です：

| オプション                            | 説明
| ------------------------------------- | ----------------------------------------------------------------------------- |
| `-h, --help`                          | すべての利用可能なオプションを表示します                                      |
| `[directory]`                         | アプリケーションをビルドするディレクト リ ディレクトリを指定しない場合、現在のディレクトリが使用されます           |
| `-d` または `--debug`                 | ビルド出力が詳細になります このフラグを有効にすると、リライト、リダイレクト、ヘッダーなどの追加のビルド出力が表示されます |
|                                       |                                                                                |
| `--profile`                           | [Reactのプロファイリング](https://react.dev/reference/react/Profiler) を 有効にします                       |
| `--no-lint`                           | リンティングを無効にします                                                    |
| `--no-mangling`                       | [名前マングリング](https://en.wikipedia.org/wiki/Name_mangling) を無効にします これによりパフォーマンスに影響を与える可能性があり、デバッグ目的でのみ使用すべきです  |
| `--experimental-app-only`             | App Routerルートのみをビルドします                                             |
| `--experimental-build-mode [mode]`    | 実験的なビルドモードを使用します (選択肢: "compile", "generate", デフォルト: "default")  |

### `next start`オプション

`next start`は本番モードでアプリケーションを起動します アプリケーションは最初に[`next build`](#next-build-options)でコンパイルされている必要があります。

次のオプションが`next start`コマンドで利用可能です：

| オプション                                  | 説明                                                                                                        |
| --------------------------------------------| ------------------------------------------------------------------------------------------------------------|
| `-h` または `--help`                        | すべての利用可能なオプションを表示します                                                                      |
| `[directory]`                               | アプリケーションを開始するディレクトリ 指定がない場合、現在のディレクトリが使用されます                       |
| `-p` または `--port <port>`                 | アプリケーションを起動するポート番号を指定します (デフォルト: 3000 環境変数: PORT)                                |
| `-H` または `--hostname <hostname>`         | アプリケーションを起動するホスト名を指定します (デフォルト: 0.0.0.0)                                         |
| `--keepAliveTimeout <keepAliveTimeout>`     | 非アクティブな接続を閉じる前の最大ミリ秒数を指定します                                                         |

### `next info`オプション

`next info`は、現在のシステムに関する関連情報を表示します。この情報は[GitHub問題](https://github.com/vercel/next.js/issues)を開く際にNext.jsのバグを報告するために使用できます。この情報には、オペレーティングシステムのプラットフォーム/アーキテクチャ/バージョン、バイナリ（Node.js、npm、Yarn、pnpm）、パッケージバージョン（`next`、`react`、`react-dom`）などが含まれます。

出力は次のようになります：

```bash title="Terminal"
Operating System:
  Platform: darwin
  Arch: arm64
  Version: Darwin Kernel Version 23.6.0
  Available memory (MB): 65536
  Available CPU cores: 10
Binaries:
  Node: 20.12.0
  npm: 10.5.0
  Yarn: 1.22.19
  pnpm: 9.6.0
Relevant Packages:
  next: 15.0.0-canary.115 // 最新バージョンが検出されました（15.0.0-canary.115）
  eslint-config-next: 14.2.5
  react: 19.0.0-rc
  react-dom: 19.0.0
  typescript: 5.5.4
Next.js Config:
  output: N/A
```

次のオプションが`next info`コマンドで利用可能です：

| オプション           | 説明                                            |
| -------------------- | ----------------------------------------------- |
| `-h` または `--help` | すべての利用可能なオプションを表示します         |
| `--verbose`          | デバッグのための追加情報を収集します             |

### `next lint`オプション

`next lint`は、`pages/`、`app/`、`components/`、`lib/`および`src/`ディレクトリ内のすべてのファイルに対してESLintを実行します。また、ESLintがまだ設定されていない場合は必要な依存関係のインストールをガイドします。

次のオプションが`next lint`コマンドで利用可能です：

| オプション                                                | 説明                                                                                                      |
| --------------------------------------------------------- | --------------------------------------------------------------------------------------------------------- |
| `[directory]`                                             | アプリケーションをリンティングするベースディレクトリ 指定がない場合、現在のディレクトリが使用されます       |
| `-d, --dir, <dirs...>`                                    | ESLintを実行するディレクトリまたはディレクトリを含めます                                                  |
| `--file, <files...>`                                      | ESLintを実行するファイルまたはファイルを含めます                                                          |
| `--ext, [exts...]`                                        | JavaScriptファイルの拡張子を指定します (デフォルト: [".js", ".mjs", ".cjs", ".jsx", ".ts", ".mts", ".cts", ".tsx"]) |
| `-c, --config, <config>`                                  | 他のすべての構成オプションを無効にして、この構成ファイルを使用します                                       |
| `--resolve-plugins-relative-to, <rprt>`                   | プラグインを解決するディレクトリを指定します                                                               |
| `--strict`                                                | Next.jsの厳格な構成を使用して `.eslintrc.json` ファイルを作成します                                        |
| `--rulesdir, <rulesdir...>`                               | ディレクトリから追加のルールを使用します                                                                  |
| `--fix`                                                   | リンティングの問題を自動的に修正します                                                                    |
| `--fix-type <fixType>`                                    | 適用する修正のタイプを指定します（例: 問題、提案、レイアウト）                                           |
| `--ignore-path <path>`                                    | 無視するファイルを指定します                                                                              |
| `--no-ignore <path>`                                      | `--ignore-path`オプションを無効にします                                                                   |
| `--quiet`                                                 | エラーのみを報告します                                                                                    |
| `--max-warnings [maxWarnings]`                            | 非ゼロ終了コードをトリガーする前の警告の数を指定します (デフォルト: -1)                                    |
| `-o, --output-file, <outputFile>`                         | レポートを書き込むファイルを指定します                                                                    |
| `-f, --format, <format>`                                  | 特定の出力形式を使用します                                                                               |
| `--no-inline-config`                                      | コメントからの構成またはルールの変更を防ぎます                                                           |
| `--report-unused-disable-directives-severity <level>`     | 使用されていない`eslint-disable`ディレクティブの重大度レベルを指定します（選択肢: "error", "off", "warn") |
| `--no-cache`                                              | キャッシングを無効にします                                                                               |
| `--cache-location, <cacheLocation>`                       | キャッシュの場所を指定します                                                                             |
| `--cache-strategy, [cacheStrategy]`                       | キャッシュ内の変更されたファイルを検出するために使用する戦略を指定します（デフォルト: "metadata") |
| `--error-on-unmatched-pattern`                            | 一致しないファイルパターンがある場合にエラーを報告します                                                 |
| `-h, --help`                                              | このメッセージを表示します                                                                               |

### `next telemetry`オプション

Next.jsは一般的な使用に関する**完全に匿名の**テレメトリデータを収集します。この匿名プログラムへの参加は任意であり、共有したくない場合はオプトアウトできます。

次のオプションが`next telemetry`コマンドで利用可能です：

| オプション             | 説明                                              |
| ---------------------- | ------------------------------------------------- |
| `-h, --help`           | すべての利用可能なオプションを表示します                     |
| `--enable`             | Next.jsのテレメトリ収集を有効にします                      |
| `--disable`            | Next.jsのテレメトリ収集を無効にします                      |

[Telemetry](/telemetry)の詳細をご覧ください。

## 例

### デフォルトポートの変更

デフォルトでは、Next.jsは開発中および`next start`時に `http://localhost:3000`を使用します。デフォルトポートは次のように`-p`オプションで変更できます：

```bash title="Terminal"
next dev -p 4000
```

または、`PORT`環境変数を使用して：

```bash title="Terminal"
PORT=4000 next dev
```

> **Good to know**: `PORT`は`.env`に設定できません。HTTPサーバーの起動は他のコードが初期化される前に行われるためです。

### 開発中にHTTPSを使用する

Webhookや認証のような特定のユースケースでは、[HTTPS](https://developer.mozilla.org/en-US/docs/Glossary/HTTPS)を使用して`localhost`でセキュアな環境を構築できます。Next.jsは、`--experimental-https`フラグを使用して`next dev`で自己署名証明書を生成できます：

```bash title="Terminal"
next dev --experimental-https
```

生成された証明書により、Next.js開発サーバーは`https://localhost:3000`に存在します。ポート番号は指定がない限りデフォルトの `3000` が使用されます。指定する場合は`-p`、`--port`、または`PORT`を使用します。

カスタム証明書とキーは `--experimental-https-key`と`--experimental-https-cert`を使用して提供することもできます。また、オプションでカスタムCA証明書を`--experimental-https-ca`で提供することも可能です。

```bash title="Terminal"
next dev --experimental-https --experimental-https-key ./certificates/localhost-key.pem --experimental-https-cert ./certificates/localhost.pem
```

`next dev --experimental-https`は開発のためだけに意図されており、[`mkcert`](https://github.com/FiloSottile/mkcert)を使用してローカルに信頼される証明書を作成します。本番環境では、信頼できる認証機関から正式に発行された証明書を使用してください。

> **Good to know**: Vercelにデプロイする場合、HTTPSはNext.jsアプリケーションに対して[自動的に設定](https://vercel.com/docs/security/encryption)されます。

### ダウンストリームプロキシのタイムアウト設定

Next.jsをダウンストリームプロキシ（例: AWS ELB/ALBのようなロードバランサー）の背後にデプロイする際、Nextの基盤となるHTTPサーバー