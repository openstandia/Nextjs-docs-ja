---
title: compress
description: Next.jsは、レンダリングされたコンテンツと静的ファイルを圧縮するためにgzip圧縮を提供しますが、これはサーバーターゲットでのみ動作します。詳細はこちらをご覧ください。
---

{/* このドキュメントの内容はアプリケーションとページルーターに共通しています。Pagesルーターに特化したコンテンツを追加するには、`<PagesOnly>Content</PagesOnly>`コンポーネントを使用できます。共有コンテンツは、コンポーネントで囲んではいけません。 */}

デフォルトでは、Next.jsは `next start` またはカスタムサーバーを使用する際に`gzip`を用いてレンダリングされたコンテンツと静的ファイルを圧縮します。これは圧縮が設定されていないアプリケーションのための最適化です。カスタムサーバーを介してアプリケーションで圧縮が既に設定されている場合、Next.jsは圧縮を追加しません。

> **Good to know:**
>
> - アプリケーションを[Vercel](https://vercel.com/docs/edge-network/compression)でホスティングしている場合、圧縮はまず`brotli`を使用し、次に`gzip`を使用します
> - 圧縮が有効かどうか、またどのアルゴリズムが使用されているかは、レスポンス内の[`Accept-Encoding`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-Encoding)（ブラウザが受け入れるオプション）と[`Content-Encoding`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Encoding)（現在使用されているもの）ヘッダーを確認することでわかります

## 圧縮を無効にする

**圧縮**を無効にするには、`compress`設定オプションを`false`に設定します：

```js filename="next.config.js"
module.exports = {
  compress: false,
}
```

サーバーに圧縮が設定されている場合を除き、圧縮を無効にすることはお勧めしません。圧縮は帯域幅の使用を減少させ、アプリケーションのパフォーマンスを向上させます。

## 圧縮アルゴリズムを変更する

圧縮アルゴリズムを変更するには、カスタムサーバーを設定し、`next.config.js`ファイル内の`compress`オプションを`false`に設定する必要があります。

例えば、[nginx](https://nginx.org/)を使用して`brotli`に切り替えたい場合、`compress`オプションを`false`に設定して、nginxが圧縮を処理できるようにします。

> **Good to know:**
>
> - Vercel上のNext.jsアプリケーションでは、圧縮はNext.jsではなくVercelのエッジネットワークによって処理されます。詳細については、[Vercelのドキュメント](https://vercel.com/docs/edge-network/compression)をご覧ください。