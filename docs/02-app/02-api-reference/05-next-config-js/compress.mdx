---
title: 'compress'
description: 'Next.jsはgzip圧縮を提供しており、レンダリングされたコンテンツや静的ファイルを圧縮しますが、これが機能するのはサーバーターゲットのみです。詳細はこちらから。'
---

{/* このドキュメントの内容は、app routerとpages routerで共有されています。Pages Router専用のコンテンツを追加するには、`<PagesOnly>Content</PagesOnly>`コンポーネントを使用できます。共有されるコンテンツはコンポーネントでラップしないでください。 */}

デフォルトでは、Next.jsは`next start`またはカスタムサーバーを使用しているとき、レンダリングされたコンテンツと静的ファイルを圧縮するために`gzip`を使用します。これは、圧縮が設定されていないアプリケーションに対する最適化です。カスタムサーバーを通じて圧縮がアプリケーションに_既に_設定されている場合、Next.jsは圧縮を追加しません。

> **知っておくと良いこと：**
>
> - [Vercel](https://vercel.com/docs/edge-network/compression)でアプリケーションをホスティングすると、圧縮にはまず`brotli`が使用され、次に`gzip`が使用されます。
> - 圧縮が有効になっているか、およびどのアルゴリズムが使用されているかを確認するには、レスポンスの[`Accept-Encoding`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-Encoding)（ブラウザが受け入れるオプション）と[`Content-Encoding`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Encoding)（現在使用中）のヘッダーを確認してください。

## 圧縮を無効にする

**圧縮**を無効にするには、`compress`設定オプションを`false`に設定します：

```js title="next.config.js"
module.exports = {
  compress: false,
}
```

圧縮は帯域幅の使用を削減し、アプリケーションのパフォーマンスを向上させるため、サーバーに圧縮が設定されていない限り、圧縮を無効にすることはおすすめしません。

## 圧縮アルゴリズムを変更する

圧縮アルゴリズムを変更するには、カスタムサーバーを設定し、`next.config.js`ファイル内で`compress`オプションを`false`に設定する必要があります。

たとえば、[nginx](https://nginx.org/)を使用しており、`brotli`に切り替えたい場合は、`compress`オプションを`false`に設定してnginxに圧縮を任せます。

> **知っておくと良いこと：**
>
> - Vercel上のNext.jsアプリケーションの場合、圧縮はNext.jsではなく、VercelのEdge Networkによって処理されます。詳細は[Vercelのドキュメント](https://vercel.com/docs/edge-network/compression)を参照してください。