---
title: staleTimes
description: クライアントルーターキャッシュの無効化時間を上書きする方法を学びます。
version: 実験的
---

`staleTimes` は、[クライアントサイドルーターキャッシュ](/docs/app/building-your-application/caching#client-side-router-cache)におけるページセグメントのキャッシュを可能にする実験的な機能です。

この実験的な機能を有効にし、カスタム再検証時間を提供するには、実験的な `staleTimes` フラグを設定します:

```js filename="next.config.js"
/** @type {import('next').NextConfig} */
const nextConfig = {
  experimental: {
    staleTimes: {
      dynamic: 30,
      static: 180,
    },
  },
}

module.exports = nextConfig
```

`static` および `dynamic` プロパティは、さまざまな種類の[リンクプリフェッチ](/docs/app/api-reference/components/link#prefetch)に基づいた時間（秒）を対応します。

- `dynamic` プロパティは、ページが静的に生成されていない、または完全にプリフェッチされていない場合（つまり、prefetch={true} の場合）に使用されます
  - デフォルト: 0 秒（キャッシュされない）
- `static` プロパティは、静的に生成されたページや、`Link` の `prefetch` プロパティが `true` に設定されている場合、または [`router.prefetch`](/docs/app/building-your-application/caching#routerprefetch) を呼び出した場合に使用されます
  - デフォルト: 5 分

> **Good to know:**
>
> - [ローディングバウンダリー](/docs/app/api-reference/file-conventions/loading)は、この設定で定義された `static` 期間に再利用可能と見なされます
> - これは[部分的レンダリング](/docs/app/building-your-application/routing/linking-and-navigating#4-partial-rendering)に影響を与えません。**つまり、共有レイアウトはナビゲーションごとに自動で再フェッチされず、変更されるページセグメントのみが対象です。**
> - レイアウトシフトを防ぎ、ブラウザのスクロール位置が失われないように、[前後のキャッシュ](/docs/app/building-your-application/caching#client-side-router-cache)の動作を変更しません。

クライアントルーターキャッシュの詳細については[こちら](/docs/app/building-your-application/caching#client-side-router-cache)をご覧ください。

### バージョン履歴

| Version   | Changes                                                |
| --------- | ------------------------------------------------------ |
| `v15.0.0` | `dynamic` staleTime のデフォルトが30秒から0秒に変更されました |
| `v14.2.0` | 実験的な `staleTimes` が導入されました                   |