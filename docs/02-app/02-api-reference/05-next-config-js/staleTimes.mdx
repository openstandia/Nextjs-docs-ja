---
title: 'staleTimes'
description: 'Client Router Cacheの無効化時間を上書きする方法を学びます。'
version: 'experimental'
---

`staleTimes`は、[client-side router cache](/docs/app/building-your-application/caching#client-side-router-cache)でページセグメントのキャッシュを可能にする実験的機能です。

この実験的機能を有効にし、カスタムの再検証時間を提供するには、実験的`staleTimes`フラグを設定してください：

```js title="next.config.js"
/** @type {import('next').NextConfig} */
const nextConfig = {
  experimental: {
    staleTimes: {
      dynamic: 30,
      static: 180,
    },
  },
}

module.exports = nextConfig
```

`static`と`dynamic`プロパティは、異なるタイプの[リンクプレフェッチ](/docs/app/api-reference/components/link#prefetch)に基づいた期間（秒）に対応します。

- `dynamic`プロパティは、そのページが静的に生成されておらず、完全にプレフェッチされていない場合（つまり、prefetch={true}の場合）に使用されます
  - デフォルト：0秒（キャッシュしない）
- `static`プロパティは、静的に生成されたページか、`Link`の`prefetch` propが`true`に設定されている場合、または[`router.prefetch`](/docs/app/building-your-application/caching#routerprefetch)を呼び出す場合に使用されます
  - デフォルト：5分

> **Good to know:**
>
> - [ロード境界](/docs/app/api-reference/file-conventions/loading)は、この設定で定義された`static`期間中に再利用可能と見なされます；
> - これは[部分的レンダリング](/docs/app/building-your-application/routing/linking-and-navigating#4-partial-rendering)に影響しません、**つまり、共有レイアウトはすべてのナビゲーションのたびに自動的に再取得されるのではなく、変更されるページセグメントのみです；**
> - レイアウトシフトを防ぎ、ブラウザのスクロール位置が失われないようにするために[戻る/進むキャッシング](/docs/app/building-your-application/caching#client-side-router-cache)の動作を変更しません；

Client Router Cacheについて詳しくは[こちら](/docs/app/building-your-application/caching#client-side-router-cache)をご覧ください。

### バージョン履歴

| バージョン   | 変更点                                                       |
| ----------- | ---------------------------------------------------------- |
| `v15.0.0`  | `dynamic` `staleTimes`のデフォルトが30秒から0秒に変更されました； |
| `v14.2.0`  | 実験的`staleTimes`が導入されました；                       |