---
title: generateBuildId
description: 現在のビルドを識別するために使用されるビルド ID を構成します。
---

{/* このドキュメントの内容は、アプリルータとページルータの間で共有されています。Pagesルータに特化したコンテンツを追加するには、`<PagesOnly>コンテンツ</PagesOnly>`コンポーネントを使用できます。共有コンテンツはコンポーネントでラップしないでください。 */}

Next.js は、`next build`中にIDを生成し、アプリケーションのどのバージョンが提供されているかを識別します。同じビルドは使用され、複数のコンテナを起動する必要があります。

環境の各ステージで再ビルドしている場合は、コンテナ間で使用する一貫性のあるビルド ID を生成する必要があります。`next.config.js`で`generateBuildId`コマンドを使用します：

```jsx title="next.config.js"
module.exports = {
  generateBuildId: async () => {
    // これが何であれ、最新のgitハッシュを使用します
    return process.env.GIT_HASH
  },
}
```