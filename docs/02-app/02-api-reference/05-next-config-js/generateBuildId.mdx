---
title: 'generateBuildId'
description: 'アプリケーションが提供される現在のビルドを識別するために使用されるビルドIDを構成します。'
---

{/* このドキュメントの内容は、app router と pages router の間で共有されています。Pages Router に固有の内容を追加するには `<PagesOnly>Content</PagesOnly>` コンポーネントを使用できます。共有されているコンテンツはコンポーネントでラップしないでください。 */}

Next.js は、`next build` 中にアプリケーションのどのバージョンが提供されているかを識別するためのIDを生成します。同じビルドを使用して複数のコンテナを立ち上げる必要があります。

もし環境の各ステージごとにリビルドしている場合、コンテナ間で使用するために一貫したビルドIDを生成する必要があります。`next.config.js` の中で `generateBuildId` コマンドを使用してください：

```jsx filename="next.config.js"
module.exports = {
  generateBuildId: async () => {
    // 任意で、最新のgitハッシュを使用することができます
    return process.env.GIT_HASH
  },
}
```