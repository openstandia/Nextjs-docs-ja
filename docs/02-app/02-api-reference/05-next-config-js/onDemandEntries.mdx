---
title: 'onDemandEntries'
description: '開発環境で作成されたページをNext.jsがどのようにメモリ内に保持または廃棄するかを設定します'
---

{/* このドキュメントの内容は、app routerとpages routerで共有されています。Pages Routerに特有のコンテンツを追加するには、`<PagesOnly>Content</PagesOnly>`コンポーネントを使用できます。共有コンテンツはコンポーネントでラップしないでください */}

Next.jsは、開発中にビルドされたページをサーバーがどのように廃棄したり、メモリ内に保持したりするかを制御するためのオプションを提供しています。

デフォルトの設定を変更するには、`next.config.js`を開き、`onDemandEntries`設定を追加します：

```js title="next.config.js"
module.exports = {
  onDemandEntries: {
    // サーバーがページをバッファに保持する期間（ms単位）
    maxInactiveAge: 25 * 1000,
    // 廃棄されることなく同時に保持されるべきページの数
    pagesBufferLength: 2,
  },
}
```