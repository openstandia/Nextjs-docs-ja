---
title: serverComponentsHmrCache
description: サーバーコンポーネントでのHMRリフレッシュリクエスト間でフェッチのレスポンスをキャッシュするか設定します。
version: RC
---

実験的機能である`serverComponentsHmrCache`オプションを使用すると、ローカル開発においてサーバーコンポーネントのホットモジュールリプレースメント（HMR）リフレッシュ間で`fetch`のレスポンスをキャッシュすることができます。これにより、レスポンスの速度が向上し、請求されるAPIコールのコストが削減されます。

デフォルトでは、HMRキャッシュは`cache: 'no-store'`オプションを含むすべての`fetch`リクエストに適用されます。つまり、キャッシュされていないリクエストは、HMRリフレッシュ間で新しいデータを表示しません。ただし、ナビゲーションやフルページのリロード時にはキャッシュはクリアされます。

`serverComponentsHmrCache`を`false`に設定して、HMRキャッシュを無効にすることができます。この設定は`next.config.js`ファイルで行います：

```ts filename="next.config.ts" switcher
import type { NextConfig } from 'next'

const nextConfig: NextConfig = {
  experimental: {
    serverComponentsHmrCache: false, // デフォルトはtrueです
  },
}

export default nextConfig
```

```js filename="next.config.js" switcher
/** @type {import('next').NextConfig} */
const nextConfig = {
  experimental: {
    serverComponentsHmrCache: false, // デフォルトはtrueです
  },
}

module.exports = nextConfig
```

> **Good to know:** 視認性を向上させるため、開発中にコンソールでフェッチキャッシュのヒットやミスをログに記録する[`logging.fetches`](/docs/app/api-reference/next-config-js/logging)オプションの使用をお勧めします。