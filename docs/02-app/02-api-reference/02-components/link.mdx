---
title: '<Link>'
description: '組み込みの `next/link` コンポーネントを用いて、クライアントサイドでの高速なナビゲーションを実現します。'
---

{/* このドキュメントの内容は、app router と pages router の間で共有されています。`<PagesOnly>Content</PagesOnly>` コンポーネントを使って、Pages Router に特有のコンテンツを追加できます。共有されるコンテンツはコンポーネントでラップしないでください。 */}

`<Link>` はHTMLの `<a>` 要素を拡張するReactコンポーネントで、[プリフェッチ](/docs/app/building-your-application/routing/linking-and-navigating#2-prefetching)とクライアントサイドでのルート間のナビゲーションを提供します。これはNext.jsでルート間をナビゲートするための主要な方法です。

基本的な使用法：

<AppOnly>

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="app/page.tsx" switcher
import Link from 'next/link'

export default function Page() {
  return <Link href="/dashboard">Dashboard</Link>
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="app/page.js" switcher
import Link from 'next/link'

export default function Page() {
  return <Link href="/dashboard">Dashboard</Link>
}
```

</TabItem>
</Tabs>

</AppOnly>

<PagesOnly>

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="pages/index.tsx" switcher
import Link from 'next/link'

export default function Home() {
  return <Link href="/dashboard">Dashboard</Link>
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="pages/index.js" switcher
import Link from 'next/link'

export default function Home() {
  return <Link href="/dashboard">Dashboard</Link>
}
```

</TabItem>
</Tabs>

</PagesOnly>

## 参照 {#reference}

以下の props を `<Link>` コンポーネントに渡すことができます：

<PagesOnly>

| Prop                                | 例                      | タイプ                         | 必須 |
| ----------------------------------- | ----------------------- | ------------------------------ | ---- |
| [`href`](#href-required)            | `href="/dashboard"`     | ストリング または オブジェクト | はい |
| [`replace`](#replace)               | `replace={false}`       | ブール値                       | -    |
| [`scroll`](#scroll)                 | `scroll={false}`        | ブール値                       | -    |
| [`prefetch`](#prefetch)             | `prefetch={false}`      | ブール値                       | -    |
| [`legacyBehavior`](#legacybehavior) | `legacyBehavior={true}` | ブール値                       | -    |
| [`passHref`](#passhref)             | `passHref={true}`       | ブール値                       | -    |
| [`shallow`](#shallow)               | `shallow={false}`       | ブール値                       | -    |
| [`locale`](#locale)                 | `locale="fr"`           | ストリング または ブール値     | -    |

</PagesOnly>

<AppOnly>

| Prop                     | 例                  | タイプ                         | 必須 |
| ------------------------ | ------------------- | ------------------------------ | ---- |
| [`href`](#href-required) | `href="/dashboard"` | ストリング または オブジェクト | はい |
| [`replace`](#replace)    | `replace={false}`   | ブール値                       | -    |
| [`scroll`](#scroll)      | `scroll={false}`    | ブール値                       | -    |
| [`prefetch`](#prefetch)  | `prefetch={false}`  | ブール値 または null           | -    |

</AppOnly>

> **Good to know**: `className` や `target="_blank"` などの `<a>` タグの属性は `<Link>` に props として追加でき、基礎の `<a>` 要素に渡されます。

### `href` (必須) {#href-required}

ナビゲートするパスまたはURLです。

<AppOnly>

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="app/page.tsx" switcher
import Link from 'next/link'

// /about?name=test にナビゲートします
export default function Page() {
  return (
    <Link
      href={{
        pathname: '/about',
        query: { name: 'test' },
      }}
    >
      About
    </Link>
  )
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="app/page.js" switcher
import Link from 'next/link'

// /about?name=test にナビゲートします
export default function Page() {
  return (
    <Link
      href={{
        pathname: '/about',
        query: { name: 'test' },
      }}
    >
      About
    </Link>
  )
}
```

</TabItem>
</Tabs>

</AppOnly>

<PagesOnly>

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="pages/index.tsx" switcher
import Link from 'next/link'

// /about?name=test にナビゲートします
export default function Home() {
  return (
    <Link
      href={{
        pathname: '/about',
        query: { name: 'test' },
      }}
    >
      About
    </Link>
  )
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="pages/index.js" switcher
import Link from 'next/link'

// /about?name=test にナビゲートします
export default function Home() {
  return (
    <Link
      href={{
        pathname: '/about',
        query: { name: 'test' },
      }}
    >
      About
    </Link>
  )
}
```

</TabItem>
</Tabs>

</PagesOnly>

### `replace` {#replace}

**デフォルトは `false`。** `true` の場合、`next/link` は、[ブラウザの履歴](https://developer.mozilla.org/docs/Web/API/History_API)スタックに新しいURLを追加するのではなく、現在の履歴状態を置き換えます。

<AppOnly>

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="app/page.tsx" switcher
import Link from 'next/link'

export default function Page() {
  return (
    <Link href="/dashboard" replace>
      Dashboard
    </Link>
  )
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="app/page.js" switcher
import Link from 'next/link'

export default function Page() {
  return (
    <Link href="/dashboard" replace>
      Dashboard
    </Link>
  )
}
```

</TabItem>
</Tabs>

</AppOnly>

<PagesOnly>

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="pages/index.tsx" switcher
import Link from 'next/link'

export default function Home() {
  return (
    <Link href="/dashboard" replace>
      Dashboard
    </Link>
  )
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="pages/index.js" switcher
import Link from 'next/link'

export default function Home() {
  return (
    <Link href="/dashboard" replace>
      Dashboard
    </Link>
  )
}
```

</TabItem>
</Tabs>

</PagesOnly>

### `scroll` {#scroll}

**デフォルトは `true`。** Next.js の `<Link>` デフォルトのスクロール挙動は、ブラウザが前後のナビゲーションで扱うように、スクロール位置を保持します。新しい[ページ](/docs/app/building-your-application/routing/pages)にナビゲートする際、ページがビューポートに表示される限りスクロール位置は変わりません。 However, if the Page is not visible in the viewport, Next.js will scroll to the top of the first Page element.

When `scroll = {false}`, Next.js は最初のページ要素にスクロールを試みません。

<AppOnly>

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="app/page.tsx" switcher
import Link from 'next/link'

export default function Page() {
  return (
    <Link href="/dashboard" scroll={false}>
      Dashboard
    </Link>
  )
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="app/page.js" switcher
import Link from 'next/link'

export default function Page() {
  return (
    <Link href="/dashboard" scroll={false}>
      Dashboard
    </Link>
  )
}
```

</TabItem>
</Tabs>

</AppOnly>

<PagesOnly>

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="pages/index.tsx" switcher
import Link from 'next/link'

export default function Home() {
  return (
    <Link href="/dashboard" scroll={false}>
      Dashboard
    </Link>
  )
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="pages/index.js" switcher
import Link from 'next/link'

export default function Home() {
  return (
    <Link href="/dashboard" scroll={false}>
      Dashboard
    </Link>
  )
}
```

</TabItem>
</Tabs>

</PagesOnly>

### `prefetch` {#prefetch}

<AppOnly>

プリフェッチは、`<Link />` コンポーネントがユーザのビューポートに入る（最初またはスクロールによって）際に行われます。Next.jsは、リンクされたルート（`href` で示される）およびそのデータをバックグラウンドでプリフェッチ＆ロードすることで、クライアントサイドのナビゲーションのパフォーマンスを向上させます。ユーザが `<Link />` 上でホバーするまでにプリフェッチされたデータの有効期限が切れている場合、Next.jsは再びプリフェッチを試みます。**プリフェッチは本番環境でのみ有効です**。

次の値を `prefetch` プロパティに渡すことができます：

- **`null`（デフォルト）**: プリフェッチ動作はルートが静的または動的かどうかによって異なります。静的ルートの場合、完全なルートがプリフェッチされます（すべてのデータを含む）。動的ルートの場合、[`loading.js`](/docs/app/building-your-application/routing/loading-ui-and-streaming#instant-loading-states) 境界が存在する最も近いセグメントまでの部分ルートがプリフェッチされます。
- `true`: 静的および動的ルートの両方に対して完全なルートがプリフェッチされます。
- `false`: ビューポートへの進入およびホバーでのプリフェッチは一切行われません。

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="app/page.tsx" switcher
import Link from 'next/link'

export default function Page() {
  return (
    <Link href="/dashboard" prefetch={false}>
      Dashboard
    </Link>
  )
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="app/page.js" switcher
import Link from 'next/link'

export default function Page() {
  return (
    <Link href="/dashboard" prefetch={false}>
      Dashboard
    </Link>
  )
}
```

</TabItem>
</Tabs>

</AppOnly>

<PagesOnly>

プリフェッチは、`<Link />` コンポーネントがユーザのビューポートに入る（最初またはスクロールによって）際に行われます。Next.jsは、リンクされたルート（`href` によって示される）とデータをバックグラウンドでプリフェッチ＆ロードすることで、クライアントサイドナビゲーションのパフォーマンスを向上させます。**プリフェッチは本番環境でのみ有効です**。

次の値を `prefetch` プロパティに渡すことができます：

- **`true`（デフォルト）**: 完全なルートとそのデータがプリフェッチされます。
- `false`: ビューポートへの進入時にはプリフェッチされませんが、ホバー時にプリフェッチされます。ホバー時のフェッチも完全に削除したい場合は、`<a>` タグを使用するか、ホバー時のプリフェッチを無効にするApp Routerへの漸進的な移行を検討してください。

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="pages/index.tsx" switcher
import Link from 'next/link'

export default function Home() {
  return (
    <Link href="/dashboard" prefetch={false}>
      Dashboard
    </Link>
  )
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="pages/index.js" switcher
import Link from 'next/link'

export default function Home() {
  return (
    <Link href="/dashboard" prefetch={false}>
      Dashboard
    </Link>
  )
}
```

</TabItem>
</Tabs>

### `legacyBehavior` {#legacybehavior}

`<Link>` の子として `<a>` 要素をもはや配置する必要がありません。古い動作を使用するために `legacyBehavior` プロパティを追加するか `<a>` を削除してアップグレードします。[自動的にコードをアップグレードするcodemodが利用可能](/docs/app/building-your-application/upgrading/codemods#new-link)です。

> **Good to know**: `legacyBehavior` が `true` に設定されていない場合、 `next/link` にも `className` や `onClick` などのすべての [`anchor`](https://developer.mozilla.org/docs/Web/HTML/Element/a) タグのプロパティを渡すことができます。

### `passHref` {#passhref}

`Link` に `href` プロパティをその子に送信させます。デフォルトは `false` です。[ネストされた機能コンポーネント](#nesting-a-functional-component)の例を参照してください。

### `scroll` {#scroll}

ナビゲーション後、ページの上部にスクロールします。デフォルトは `true` です。

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="pages/index.tsx" switcher
import Link from 'next/link'

export default function Home() {
  return (
    <Link href="/dashboard" scroll={false}>
      Dashboard
    </Link>
  )
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="pages/index.js" switcher
import Link from 'next/link'

export default function Home() {
  return (
    <Link href="/dashboard" scroll={false}>
      Dashboard
    </Link>
  )
}
```

</TabItem>
</Tabs>

### `shallow` {#shallow}

現在のページのパスを更新しても、[`getStaticProps`](https://nextjs.org/docs/canary/pages/building-your-application/data-fetching/get-static-props)、[`getServerSideProps`](https://nextjs.org/docs/canary/pages/building-your-application/data-fetching/get-server-side-props)、または [`getInitialProps`](https://nextjs.org/docs/canary/pages/api-reference/functions/get-initial-props)を再実行しません。デフォルトは `false` です。

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="pages/index.tsx" switcher
import Link from 'next/link'

export default function Home() {
  return (
    <Link href="/dashboard" shallow={false}>
      Dashboard
    </Link>
  )
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="pages/index.js" switcher
import Link from 'next/link'

export default function Home() {
  return (
    <Link href="/dashboard" shallow={false}>
      Dashboard
    </Link>
  )
}
```

</TabItem>
</Tabs>

### `locale` {#locale}

アクティブなロケールは自動的にプレフィックスとして付加されます。 `locale` は異なるロケールを提供することを可能にします。 `false` の場合、デフォルトの動作が無効化されるため、`href` はロケールを含む必要があります。

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="pages/index.tsx" switcher
import Link from 'next/link'

export default function Home() {
  return (
    <>
      {/* デフォルト動作: ロケールが付加されます */}
      <Link href="/dashboard">Dashboard (with locale)</Link>

      {/* ロケールの付加を無効化 */}
      <Link href="/dashboard" locale={false}>
        Dashboard (without locale)
      </Link>

      {/* 異なるロケールを指定 */}
      <Link href="/dashboard" locale="fr">
        Dashboard (French)
      </Link>
    </>
  )
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="pages/index.js" switcher
import Link from 'next/link'

export default function Home() {
  return (
    <>
      {/* デフォルト動作: ロケールが付加されます */}
      <Link href="/dashboard">Dashboard (with locale)</Link>

      {/* ロケールの付加を無効化 */}
      <Link href="/dashboard" locale={false}>
        Dashboard (without locale)
      </Link>

      {/* 異なるロケールを指定 */}
      <Link href="/dashboard" locale="fr">
        Dashboard (French)
      </Link>
    </>
  )
}
```

</TabItem>
</Tabs>

</PagesOnly>

## 例 {#examples}

以下の例では、様々なシナリオで `<Link>` コンポーネントをどのように利用するかを示しています。

<AppOnly>

### dynamic segmentsへのリンク {#linking-to-dynamic-segments}

[dynamic segments](/docs/app/building-your-application/routing/dynamic-routes)にリンクする際、[テンプレートリテラルと補間](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Template_literals)を利用してリンクのリストを生成できます。例えば、ブログ投稿のリストを生成するために:

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="app/blog/post-list.tsx" switcher
import Link from 'next/link'

interface Post {
  id: number
  title: string
  slug: string
}

export default function PostList({ posts }: { posts: Post[] }) {
  return (
    <ul>
      {posts.map((post) => (
        <li key={post.id}>
          <Link href={`/blog/${post.slug}`}>{post.title}</Link>
        </li>
      ))}
    </ul>
  )
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="app/blog/post-list.js" switcher
import Link from 'next/link'

export default function PostList({ posts }) {
  return (
    <ul>
      {posts.map((post) => (
        <li key={post.id}>
          <Link href={`/blog/${post.slug}`}>{post.title}</Link>
        </li>
      ))}
    </ul>
  )
}
```

</TabItem>
</Tabs>

### アクティブなリンクのチェック {#checking-active-links}

[`usePathname()`](/docs/app/api-reference/functions/use-pathname)を使用して、リンクがアクティブかどうかを判断できます。たとえば、アクティブなリンクにクラスを追加するには、現在の `pathname` がリンクの `href` と一致するかを確認します：

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="app/ui/nav-links.tsx" switcher
'use client'

import { usePathname } from 'next/navigation'
import Link from 'next/link'

export function Links() {
  const pathname = usePathname()

  return (
    <nav>
      <Link className={`link ${pathname === '/' ? 'active' : ''}`} href="/">
        Home
      </Link>

      <Link
        className={`link ${pathname === '/about' ? 'active' : ''}`}
        href="/about"
      >
        About
      </Link>
    </nav>
  )
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="app/ui/nav-links.js" switcher
'use client'

import { usePathname } from 'next/navigation'
import Link from 'next/link'

export function Links() {
  const pathname = usePathname()

  return (
    <nav>
      <Link className={`link ${pathname === '/' ? 'active' : ''}`} href="/">
        Home
      </Link>

      <Link
        className={`link ${pathname === '/about' ? 'active' : ''}`}
        href="/about"
      >
        About
      </Link>
    </nav>
  )
}
```

</TabItem>
</Tabs>

### `id` へのスクロール {#scrolling-to-an-id}

ナビゲーション時に特定の `id` にスクロールしたい場合、URLに `#` ハッシュリンクを追加するか、単にハッシュリンクを `href` プロパティに渡すことができます。これは `<Link>` が `<a>` 要素としてレンダリングされるため可能です。

```jsx
<Link href="/dashboard#settings">Settings</Link>

// Output
<a href="/dashboard#settings">Settings</a>
```

> **Good to know**:
>
> - もしナビゲーション時にページがビューポートに見えていない場合、Next.jsは[ページ](/docs/app/building-your-application/routing/pages)にスクロールします。

</AppOnly>

### dynamic route segmentsへのリンク {#linking-to-dynamic-route-segments}

[dynamic route segments](/docs/app/building-your-application/routing/dynamic-routes) において、テンプレートリテラルを使ってリンクのパスを作成することは便利です。

<PagesOnly>

例えば、dynamic route `pages/blog/[slug].js` へのリンクのリストを生成する場合:

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="pages/blog/index.tsx" switcher
import Link from 'next/link'

function Posts({ posts }) {
  return (
    <ul>
      {posts.map((post) => (
        <li key={post.id}>
          <Link href={`/blog/${post.slug}`}>{post.title}</Link>
        </li>
      ))}
    </ul>
  )
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="pages/blog/index.js" switcher
import Link from 'next/link'

function Posts({ posts }) {
  return (
    <ul>
      {posts.map((post) => (
        <li key={post.id}>
          <Link href={`/blog/${post.slug}`}>{post.title}</Link>
        </li>
      ))}
    </ul>
  )
}

export default Posts
```

</TabItem>
</Tabs>

</PagesOnly>

<AppOnly>

例えば、dynamic route `app/blog/[slug]/page.js` へのリンクのリストを生成する場合：

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="app/blog/page.tsx" switcher
import Link from 'next/link'

export default function Page({ posts }) {
  return (
    <ul>
      {posts.map((post) => (
        <li key={post.id}>
          <Link href={`/blog/${post.slug}`}>{post.title}</Link>
        </li>
      ))}
    </ul>
  )
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="app/blog/page.js" switcher
import Link from 'next/link'

export default function Page({ posts }) {
  return (
    <ul>
      {posts.map((post) => (
        <li key={post.id}>
          <Link href={`/blog/${post.slug}`}>{post.title}</Link>
        </li>
      ))}
    </ul>
  )
}
```

</TabItem>
</Tabs>

</AppOnly>

### 子が `<a>` タグをラップするカスタムコンポーネントの場合 {#if-the-child-is-a-custom-component-that-wraps-an-a-tag}

<AppOnly>

`Link` の子が `<a>` タグをラップするカスタムコンポーネントである場合、`passHref` を `Link` に追加する必要があります。これは[styled-components](https://styled-components.com/)のようなライブラリを使用している場合に必要です。これがないと、`<a>` 要素には `href` 属性が含まれず、サイトのアクセシビリティが損なわれ、SEOに影響を与えることがあります。[ESLint](/docs/app/building-your-application/configuring/eslint#eslint-plugin) を使用している場合、`passHref` を正しく使用するための組み込みルール `next/link-passhref` があります。

</AppOnly>

<PagesOnly>

`Link` の子が `<a>` タグをラップするカスタムコンポーネントである場合、`passHref` を `Link` に追加する必要があります。これは[styled-components](https://styled-components.com/)のようなライブラリを使用している場合に必要です。これがないと、`<a>` タグには `href` 属性がなく、サイトのアクセシビリティが損なわれ、SEOに影響を与えることがあります。[ESLint](https://nextjs.org/docs/canary/pages/building-your-application/configuring/eslint#eslint-plugin) を使用している場合、`passHref` を正しく使用するための組み込みルール `next/link-passhref` があります。

</PagesOnly>

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="components/nav-link.tsx" switcher
import Link from 'next/link'
import styled from 'styled-components'

// これは <a> タグをラップするカスタムコンポーネントを作成します
const RedLink = styled.a`
  color: red;
`

function NavLink({ href, name }) {
  return (
    <Link href={href} passHref legacyBehavior>
      <RedLink>{name}</RedLink>
    </Link>
  )
}

export default NavLink
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="components/nav-link.js" switcher
import Link from 'next/link'
import styled from 'styled-components'

// これは <a> タグをラップするカスタムコンポーネントを作成します
const RedLink = styled.a`
  color: red;
`

function NavLink({ href, name }) {
  return (
    <Link href={href} passHref legacyBehavior>
      <RedLink>{name}</RedLink>
    </Link>
  )
}

export default NavLink
```

</TabItem>
</Tabs>

- [emotion](https://emotion.sh/) の JSX プラグマ機能 (`@jsx jsx`)を使用している場合、直接 `<a>` タグを使用しても `passHref` を使用する必要があります。
- コンポーネントは、ナビゲーションを正しくトリガーするために `onClick` プロパティをサポートする必要があります。

### 関数コンポーネントのネスト {#nesting-a-functional-component}

`Link` の子が関数コンポーネントである場合、`passHref` と `legacyBehavior` を使用することに加え、[`React.forwardRef`](https://react.dev/reference/react/forwardRef) でコンポーネントをラップする必要があります：

<AppOnly>

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="app/page.tsx" switcher
import Link from 'next/link'
import React from 'react'

// MyButton の props タイプを定義します
interface MyButtonProps {
  onClick?: React.MouseEventHandler<HTMLAnchorElement>
  href?: string
}

// 転送されたref を正しく型付けするために React.ForwardRefRenderFunctionを使用します
const MyButton: React.ForwardRefRenderFunction<
  HTMLAnchorElement,
  MyButtonProps
> = ({ onClick, href }, ref) => {
  return (
    <a href={href} onClick={onClick} ref={ref}>
      Click Me
    </a>
  )
}

// コンポーネントをラップするために React.forwardRef を使用します
const ForwardedMyButton = React.forwardRef(MyButton)

export default function Page() {
  return (
    <Link href="/about" passHref legacyBehavior>
      <ForwardedMyButton />
    </Link>
  )
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="app/page.js" switcher
import Link from 'next/link'
import React from 'react'

// `onClick`, `href`, `ref` は適切に処理されるようにDOM要素に渡す必要があります
const MyButton = React.forwardRef(({ onClick, href }, ref) => {
  return (
    <a href={href} onClick={onClick} ref={ref}>
      Click Me
    </a>
  )
})

// コンポーネントの表示名を追加します（デバッグに役立ちます）
MyButton.displayName = 'MyButton'

export default function Page() {
  return (
    <Link href="/about" passHref legacyBehavior>
      <MyButton />
    </Link>
  )
}
```

</TabItem>
</Tabs>

</AppOnly>

<PagesOnly>

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="pages/index.tsx" switcher
import Link from 'next/link'
import React from 'react'

// MyButton の props タイプを定義します
interface MyButtonProps {
  onClick?: React.MouseEventHandler<HTMLAnchorElement>
  href?: string
}

// 転送されたref を正しく型付けするために React.ForwardRefRenderFunctionを使用します
const MyButton: React.ForwardRefRenderFunction<
  HTMLAnchorElement,
  MyButtonProps
> = ({ onClick, href }, ref) => {
  return (
    <a href={href} onClick={onClick} ref={ref}>
      Click Me
    </a>
  )
}

// コンポーネントをラップするために React.forwardRef を使用します
const ForwardedMyButton = React.forwardRef(MyButton)

export default function Home() {
  return (
    <Link href="/about" passHref legacyBehavior>
      <ForwardedMyButton />
    </Link>
  )
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="pages/index.js" switcher
import Link from 'next/link'
import React from 'react'

// `onClick`, `href`, `ref` は適切に処理されるようにDOM要素に渡す必要があります
const MyButton = React.forwardRef(({ onClick, href }, ref) => {
  return (
    <a href={href} onClick={onClick} ref={ref}>
      Click Me
    </a>
  )
})

// コンポーネントの表示名を追加します（デバッグに役立ちます）
MyButton.displayName = 'MyButton'

export default function Home() {
  return (
    <Link href="/about" passHref legacyBehavior>
      <MyButton />
    </Link>
  )
}
```

</TabItem>
</Tabs>

</PagesOnly>

<PagesOnly>

### URL オブジェクトの渡し {#passing-a-url-object}

`Link` はURLオブジェクトも受け取り、自動的にフォーマットしてURL文字列を作成します：

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="pages/index.ts" switcher
import Link from 'next/link'

function Home() {
  return (
    <ul>
      <li>
        <Link
          href={{
            pathname: '/about',
            query: { name: 'test' },
          }}
        >
          About us
        </Link>
      </li>
      <li>
        <Link
          href={{
            pathname: '/blog/[slug]',
            query: { slug: 'my-post' },
          }}
        >
          Blog Post
        </Link>
      </li>
    </ul>
  )
}

export default Home
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="pages/index.js" switcher
import Link from 'next/link'

function Home() {
  return (
    <ul>
      <li>
        <Link
          href={{
            pathname: '/about',
            query: { name: 'test' },
          }}
        >
          About us
        </Link>
      </li>
      <li>
        <Link
          href={{
            pathname: '/blog/[slug]',
            query: { slug: 'my-post' },
          }}
        >
          Blog Post
        </Link>
      </li>
    </ul>
  )
}

export default Home
```

</TabItem>
</Tabs>

上記の例は以下のリンクを持っています：

- 事前定義されたルート: `/about?name=test`
- [dynamic route](/docs/app/building-your-application/routing/dynamic-routes): `/blog/my-post`

[Node.js URL モジュールドキュメント](https://nodejs.org/api/url.html#url_url_strings_and_url_objects)に定義されているすべてのプロパティを使用できます。

</PagesOnly>

### URL の置き換え {#replace-the-url-instead-of-push}

`Link` コンポーネントのデフォルトの動作は、`history` スタックに新しいURLを `push` することです。下記の例のように、新しいエントリの追加を防ぐために `replace` プロパティを使用できます：

<AppOnly>

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="app/page.js" switcher
import Link from 'next/link'

export default function Page() {
  return (
    <Link href="/about" replace>
      About us
    </Link>
  )
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="app/page.js" switcher
import Link from 'next/link'

export default function Page() {
  return (
    <Link href="/about" replace>
      About us
    </Link>
  )
}
```

</TabItem>
</Tabs>

</AppOnly>

<PagesOnly>

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="pages/index.js" switcher
import Link from 'next/link'

export default function Home() {
  return (
    <Link href="/about" replace>
      About us
    </Link>
  )
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="pages/index.js" switcher
import Link from 'next/link'

export default function Home() {
  return (
    <Link href="/about" replace>
      About us
    </Link>
  )
}
```

</TabItem>
</Tabs>

</PagesOnly>

### ページ上部へのスクロールの無効化 {#disable-scrolling-to-the-top-of-the-page}

<AppOnly>

Next.js の `<Link>` のデフォルトのスクロール挙動 **はスクロール位置を保持する** であり、ブラウザが前後のナビゲーションで扱う方法に似ています。新しい[ページ](/docs/app/building-your-application/routing/pages)にナビゲートする際、ページがビューポートに表示される限りスクロール位置は変わりません。

もしページがビューポートに見えない場合、Next.jsは最初のページ要素の上部にスクロールします。この挙動を無効にしたい場合は、`<Link>` コンポーネントに `scroll={false}` を渡すか、`router.push()` または `router.replace()` に `scroll: false` を渡すことができます。

<Tabs>
<TabItem value="jsx" label="JavaScript">

```jsx title="app/page.js" switcher
import Link from 'next/link'

export default function Page() {
  return (
    <Link href="/#hashid" scroll={false}>
      Disables scrolling to the top
    </Link>
  )
}
```

</TabItem>
<TabItem value="tsx" label="TypeScript">

```tsx title="app/page.tsx" switcher
import Link from 'next/link'

export default function Page() {
  return (
    <Link href="/#hashid" scroll={false}>
      Disables scrolling to the top
    </Link>
  )
}
```

</TabItem>
</Tabs>

`router.push()` または `router.replace()` を使用する：

```jsx
// useRouter
import { useRouter } from 'next/navigation'

const router = useRouter()

router.push('/dashboard', { scroll: false })
```

</AppOnly>

<PagesOnly>

`Link` のデフォルト動作はページのトップへスクロールすることです。正常な `<a>` タグのように、ハッシュが定義されている場合は特定のidにスクロールします。トップやハッシュへのスクロールを防ぐためには、`scroll={false}` を `Link` に追加できます：

<Tabs>
<TabItem value="jsx" label="JavaScript">

```jsx title="pages/index.js" switcher
import Link from 'next/link'

export default function Home() {
  return (
    <Link href="/#hashid" scroll={false}>
      Disables scrolling to the top
    </Link>
  )
}
```

</TabItem>
<TabItem value="tsx" label="TypeScript">

```tsx title="pages/index.tsx" switcher
import Link from 'next/link'

export default function Home() {
  return (
    <Link href="/#hashid" scroll={false}>
      Disables scrolling to the top
    </Link>
  )
}
```

</TabItem>
</Tabs>

</PagesOnly>

### Middlewareでのリンクのプリフェッチ {#prefetching-links-in-middleware}

認証やユーザーを別のページにリダイレクトする特定の目的で[Middelware](/docs/app/building-your-application/routing/middleware)を使用することが一般的です。`<Link />` コンポーネントがMiddlewareを介して書き換えられたリンクを正しくプリフェッチするには、Next.jsに表示するURLとプリフェッチするURLの両方を伝える必要があります。これにより、正しいルートをプリフェッチするために、middlewareへの不必要なフェッチを避けられます。

例えば、認証済みおよび訪問者ビューがある `/dashboard` ルートを提供したい場合、ユーザを正しいページにリダイレクトするために次のコードをMiddlewareに追加できます：

```ts title="middleware.ts"
import { NextResponse } from 'next/server'

export function middleware(request: Request) {
  const nextUrl = request.nextUrl
  if (nextUrl.pathname === '/dashboard') {
    if (request.cookies.authToken) {
      return NextResponse.rewrite(new URL('/auth/dashboard', request.url))
    } else {
      return NextResponse.rewrite(new URL('/public/dashboard', request.url))
    }
  }
}
```

```js title="middleware.js"
import { NextResponse } from 'next/server'

export function middleware(request) {
  const nextUrl = request.nextUrl
  if (nextUrl.pathname === '/dashboard') {
    if (request.cookies.authToken) {
      return NextResponse.rewrite(new URL('/auth/dashboard', request.url))
    } else {
      return NextResponse.rewrite(new URL('/public/dashboard', request.url))
    }
  }
}
```

このケースでは、次のコードを `<Link />` コンポーネントに使用したいでしょう：

<AppOnly>

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="app/page.tsx" switcher
'use client'

import Link from 'next/link'
import useIsAuthed from './hooks/useIsAuthed' // あなたの認証フック

export default function Page() {
  const isAuthed = useIsAuthed()
  const path = isAuthed ? '/auth/dashboard' : '/public/dashboard'
  return (
    <Link as="/dashboard" href href={path}>
      Dashboard
    </Link>
  )
}
```

</TabItem>
<TabItem value="js" label="JavaScript">

```js title="app/page.js" switcher
'use client'

import Link from 'next/link'
import useIsAuthed from './hooks/useIsAuthed' // あなたの認証フック

export default function Page() {
  const isAuthed = useIsAuthed()
  const path = isAuthed ? '/auth/dashboard' : '/public/dashboard'
  return (
    <Link as="/dashboard" href={path}>
      Dashboard
    </Link>
  )
}
```

</TabItem>
</Tabs>

</AppOnly>

<PagesOnly>

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="pages/index.tsx" switcher
'use client'

import Link from 'next/link'
import useIsAuthed from './hooks/useIsAuthed' // あなたの認証フック

export default function Home() {
  const isAuthed = useIsAuthed()
  const path = isAuthed ? '/auth/dashboard' : '/public/dashboard'
  return (
    <Link as="/dashboard" href href={path}>
      Dashboard
    </Link>
  )
}
```

</TabItem>
<TabItem value="js" label="JavaScript">

```js title="pages/index.js" switcher
'use client'

import Link from 'next/link'
import useIsAuthed from './hooks/useIsAuthed' // あなたの認証フック

export default function Home() {
  const isAuthed = useIsAuthed()
  const path = isAuthed ? '/auth/dashboard' : '/public/dashboard'
  return (
    <Link as="/dashboard" href={path}>
      Dashboard
    </Link>
  )
}
```

</TabItem>
</Tabs>

</PagesOnly>

<PagesOnly>

> **Good to know**: [Dynamic Routes](/docs/app/building-your-application/routing/dynamic-routes) を使用している場合、`as` と `href` プロパティを調整する必要があります。 たとえば、ミドルウェアを介して異なる形式で提示したいDynamic Route `/dashboard/authed/[user]` がある場合は、次のように書きます: `<Link href={{ pathname: '/dashboard/authed/[user]', query: { user: username } }} as="/dashboard/[user]">Profile</Link>`。

</PagesOnly>

## バージョン履歴 {#version-history}

| バージョン | 変更点                                                                                                                                                                                             |
| ---------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `v13.0.0`  | 子 `<a>` タグを必要としなくなりました。[codemod](/docs/app/building-your-application/upgrading/codemods#remove-a-tags-from-link-components) が提供されており、コードベースを自動的に更新できます。 |
| `v10.0.0`  | dynamic route を指す `href` プロパティが自動的に解決されるようになり、もはや `as` プロパティを必要としなくなりました。                                                                             |
| `v8.0.0`   | プリフェッチのパフォーマンスが向上しました。                                                                                                                                                       |
| `v1.0.0`   | `next/link` が導入されました。                                                                                                                                                                     |
