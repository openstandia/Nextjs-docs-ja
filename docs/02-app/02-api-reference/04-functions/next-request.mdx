---
title: NextRequest
description: NextRequestのAPIリファレンス
---

{/* このドキュメントの内容は、AppルーターとPagesルーターの間で共有されています。Pagesルーターに特化した内容を追加するには、`<PagesOnly>Content</PagesOnly>`コンポーネントを使用できます。共有された内容はコンポーネントでラップしないでください。 */}

NextRequestは、追加の便利なメソッドで[Web Request API](https://developer.mozilla.org/docs/Web/API/Request)を拡張します。

## `cookies`

リクエストの[`Set-Cookie`](https://developer.mozilla.org/docs/Web/HTTP/Headers/Set-Cookie)ヘッダーを読み取るか、変更します。

### `set(name, value)`

指定された名前を持つクッキーに、指定された値を設定します。

```ts
// 与えられたリクエスト /home
// バナーを非表示にするクッキーを設定
// `Set-Cookie:show-banner=false;path=/home` ヘッダーを持つリクエストになります
request.cookies.set('show-banner', 'false')
```

### `get(name)`

クッキー名を指定すると、そのクッキーの値を返します。クッキーが見つからない場合は、`undefined`が返されます。複数のクッキーが見つかった場合は、最初のものが返されます。

```ts
// 与えられたリクエスト /home
// { name: 'show-banner', value: 'false', Path: '/home' }
request.cookies.get('show-banner')
```

### `getAll()`

クッキー名を指定すると、そのクッキーの値を返します。名前が指定されていない場合は、リクエスト上のすべてのクッキーを返します。

```ts
// 与えられたリクエスト /home
// [
//   { name: 'experiments', value: 'new-pricing-page', Path: '/home' },
//   { name: 'experiments', value: 'winter-launch', Path: '/home' },
// ]
request.cookies.getAll('experiments')
// または、リクエストのすべてのクッキーを取得
request.cookies.getAll()
```

### `delete(name)`

クッキー名を指定すると、リクエストからそのクッキーを削除します。

```ts
// 削除された場合は true を返し、何も削除されていない場合は false を返します
request.cookies.delete('experiments')
```

### `has(name)`

クッキー名を指定すると、リクエストにそのクッキーが存在する場合 `true` を返します。

```ts
// クッキーが存在する場合は true を、存在しない場合は false を返します
request.cookies.has('experiments')
```

### `clear()`

リクエストから`Set-Cookie`ヘッダーを削除します。

```ts
request.cookies.clear()
```

## `nextUrl`

ネイティブの[`URL`](https://developer.mozilla.org/docs/Web/API/URL) APIを拡張し、Next.js特有のプロパティを含む追加の便利なメソッドを提供します。

```ts
// /homeへのリクエストがある場合、pathnameは /home です
request.nextUrl.pathname
// /home?name=lee へのリクエストがある場合、searchParamsは { 'name': 'lee' } です
request.nextUrl.searchParams
```

次のオプションが利用可能です：

<PagesOnly>

| プロパティ       | 型                       | 説明                                                                                                                            |
| ---------------- | ------------------------ | ----------------------------------------------------------------------------------------------------------------------------- |
| `basePath`       | `string`                 | URLの[ベースパス](/docs/pages/api-reference/next-config-js/basePath)                                                                 |
| `buildId`        | `string` \| `undefined` | Next.jsアプリケーションのビルド識別子。 [カスタマイズ](/docs/pages/api-reference/next-config-js/generateBuildId)できます。         |
| `defaultLocale`  | `string` \| `undefined` | [国際化](/docs/pages/building-your-application/routing/internationalization)のためのデフォルトロケール                                                                      |
| `domainLocale`   |                          |                                                                                                                                 |
| - `defaultLocale`| `string`                 | ドメイン内のデフォルトロケール                                                                                                    |
| - `domain`       | `string`                 | 特定のロケールに関連付けられたドメイン                                                                                             |
| - `http`         | `boolean` \| `undefined`| ドメインがHTTPを使用しているかどうかを示します                                                                                       |
| `locales`        | `string[]` \| `undefined`| 利用可能なロケールの配列                                                                                                            |
| `locale`         | `string` \| `undefined` | 現在アクティブなロケール                                                                                                          |
| `url`            | `URL`                    | URLオブジェクト                                                                                                                 |

</PagesOnly>

<AppOnly>

| プロパティ       | 型                       | 説明                                                                                                                           |
| ---------------- | ------------------------ | --------------------------------------------------------------------------------------------------------------------------------- |
| `basePath`       | `string`                 | URLの[ベースパス](/docs/app/api-reference/next-config-js/basePath)                                                                         |
| `buildId`        | `string` \| `undefined` | Next.jsアプリケーションのビルド識別子。 [カスタマイズ](/docs/app/api-reference/next-config-js/generateBuildId)できます。             |
| `pathname`       | `string`                 | URLのパス名                                                                                                                      |
| `searchParams`   | `Object`                 | URLの検索パラメータ                                                                                                               |

> **Note:** Pagesルーターの国際化プロパティは、Appルーターでは使用できません。Appルーターでの[国際化について詳しく知る](/docs/app/building-your-application/routing/internationalization)。

</AppOnly>

## バージョン履歴

| バージョン  | 変更内容             |
| ----------- | ------------------- |
| `v15.0.0`   | `ip` と `geo` が削除されました。 |