---
title: 'connection'
description: 'connection関数のAPIリファレンスです。'
---

`connection()`関数は、レンダリングがユーザーのリクエストの到着を待ってから続行されるように指示することを可能にします。

この機能は、コンポーネントが[Dynamic APIs](/docs/app/building-your-application/rendering/server-components#dynamic-apis)を使用しない場合に役立ちますが、ビルド時に静的にレンダリングされるのではなく、実行時に動的にレンダリングされることを望む場合に有用です。これは通常、`Math.random()`や`new Date()`など、意図的にレンダリング結果を変更したい外部情報にアクセスする場合に発生します。

<Tabs>
<TabItem value="ts" label="TypeScript">

```ts title="app/page.tsx" switcher
import { connection } from 'next/server'

export default async function Page() {
  await connection()
  // 以下のすべてはプリレンダリングから除外されます
  const rand = Math.random()
  return <span>{rand}</span>
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="app/page.js" switcher
import { connection } from 'next/server'

export default async function Page() {
  await connection()
  // 以下のすべてはプリレンダリングから除外されます
  const rand = Math.random()
  return <span>{rand}</span>
}
```

</TabItem>
</Tabs>

## リファレンス {#reference}

### タイプ {#type}

```jsx
function connection(): Promise<void>
```

### パラメータ {#parameters}

- この関数はパラメータを受け取りません。

### 戻り値 {#returns}

- 関数は`void`のPromiseを返します。これは消費することを意図していません。

## Good to know {#good-to-know}

- `connection`は、Next.jsの将来により適合するように[`unstable_noStore`](/docs/app/api-reference/legacy-apis/unstable_noStore)の代わりとなります。
- この関数は、動的レンダリングが必要であり、一般的なDynamic APIsが使用されていない場合にのみ必要です。

### バージョン履歴 {#version-history}

| バージョン   | 変更                         |
| ------------ | ---------------------------- |
| `v15.0.0-RC` | `connection`が導入されました |
