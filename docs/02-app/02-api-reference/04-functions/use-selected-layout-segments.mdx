---
title: 'useSelectedLayoutSegments'
description: 'useSelectedLayoutSegments フックのAPIリファレンスです。'
---

`useSelectedLayoutSegments` は **Client Component** フックであり、呼び出し元の Layout の**下にある**アクティブなルートセグメントを読み取ることができます。

これは、パンくずリストのようにアクティブな子セグメントの情報が必要な親 Layout のUIを作成するのに役立ちます。

```tsx filename="app/example-client-component.tsx" switcher
'use client'

import { useSelectedLayoutSegments } from 'next/navigation'

export default function ExampleClientComponent() {
  const segments = useSelectedLayoutSegments()

  return (
    <ul>
      {segments.map((segment, index) => (
        <li key={index}>{segment}</li>
      ))}
    </ul>
  )
}
```

```jsx filename="app/example-client-component.js" switcher
'use client'

import { useSelectedLayoutSegments } from 'next/navigation'

export default function ExampleClientComponent() {
  const segments = useSelectedLayoutSegments()

  return (
    <ul>
      {segments.map((segment, index) => (
        <li key={index}>{segment}</li>
      ))}
    </ul>
  )
}
```

> **Good to know**:
>
> - `useSelectedLayoutSegments`は[Client Component](/docs/app/building-your-application/rendering/client-components) フックであり、Layouts はデフォルトでは[Server Components](/docs/app/building-your-application/rendering/server-components)であるため、通常は Layout にインポートされる Client Component 経由で呼び出されます。
> - 返されたセグメントには[Route Groups](/docs/app/building-your-application/routing/route-groups)が含まれており、UI に含めたくない場合があります。括弧で始まる項目を削除するために`filter()`配列メソッドを使用できます。

## パラメータ

```tsx
const segments = useSelectedLayoutSegments(parallelRoutesKey?: string)
```

`useSelectedLayoutSegments` は、[`parallelRoutesKey`](/docs/app/building-your-application/routing/parallel-routes#useselectedlayoutsegments) を**任意で**受け入れることができ、これにより、そのスロット内のアクティブルートセグメントを読み取ることができます。

## 戻り値

`useSelectedLayoutSegments` は、フックが呼び出された Layout から1レベル下のアクティブなセグメントを含む文字列の配列を返します。存在しない場合は空の配列を返します。

たとえば、以下の Layouts とURLを考慮すると、返されるセグメントは次のようになります。

| Layout                    | 訪問したURL           | 返されるセグメント          |
| ------------------------- | --------------------- | --------------------------- |
| `app/layout.js`           | `/`                   | `[]`                        |
| `app/layout.js`           | `/dashboard`          | `['dashboard']`             |
| `app/layout.js`           | `/dashboard/settings` | `['dashboard', 'settings']` |
| `app/dashboard/layout.js` | `/dashboard`          | `[]`                        |
| `app/dashboard/layout.js` | `/dashboard/settings` | `['settings']`              |

## バージョン履歴

| バージョン | 変更内容                                     |
| ---------- | --------------------------------------------- |
| `v13.0.0`  | `useSelectedLayoutSegments` が導入されました。 |