---
title: 'usePathname'
description: 'usePathname フックの API リファレンス'
---

`usePathname` は、現在の URL の **pathname** を読み取ることができる **Client Component** フックです。

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="app/example-client-component.tsx" switcher
'use client'

import { usePathname } from 'next/navigation'

export default function ExampleClientComponent() {
  const pathname = usePathname()
  return <p>Current pathname: {pathname}</p>
}
```
</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="app/example-client-component.js" switcher
'use client'

import { usePathname } from 'next/navigation'

export default function ExampleClientComponent() {
  const pathname = usePathname()
  return <p>Current pathname: {pathname}</p>
}
```
</TabItem>
</Tabs>


`usePathname` は、[Client Component](/docs/app/building-your-application/rendering/client-components) の使用が意図的に要求されています。Client Component は、最適化の妨げではないことを指摘しておくことが重要です。これらは、[Server Components](/docs/app/building-your-application/rendering/server-components) のアーキテクチャにおいて重要な役割を果たしています。

例えば、`usePathname` を使用した Client Component は、初回ページロード時に HTML としてレンダリングされます。新しいルートに移動した際には、このコンポーネントは再フェッチされる必要はありません。代わりに、このコンポーネントは一度（クライアントの JavaScript バンドル内で）ダウンロードされ、現在の状態に基づいて再レンダリングされます。

> **Good to know**:
>
> - [Server Component](/docs/app/building-your-application/rendering/server-components) から現在の URL を読み取ることはサポートされていません。この設計は、ページ遷移間でレイアウト状態が保持されることをサポートするために意図されています。
> - 互換モード：
>   - [fallback route](/docs/pages/api-reference/functions/get-static-paths#fallback-true) がレンダリングされている場合や、Next.js によって自動的に[静的に最適化](/docs/pages/building-your-application/rendering/automatic-static-optimization)された `pages` ディレクトリのページがレンダリングされている場合、`usePathname` は `null` を返すことがあります。
>   - [`next.config`](/docs/app/api-reference/next-config-js/rewrites) または [`Middleware`](/docs/app/building-your-application/routing/middleware) で `usePathname` をリライトと一緒に使用する場合、`useState` や `useEffect` も使用する必要があり、これによりハイドレーションの不一致エラーを避けることができます。詳細については、[リライトの例](https://github.com/vercel/next.js/tree/canary/examples/rewrites)を参照してください。
>   - Next.js は、プロジェクト内に `app` ディレクトリと `pages` ディレクトリの両方が検出された場合に、自動的に型を更新します。

## パラメータ

```tsx
const pathname = usePathname()
```

`usePathname` は何のパラメータも取りません。

## 戻り値

`usePathname` は現在の URL の pathname を表す文字列を返します。例えば：

| URL                 | 戻り値               |
| ------------------- | --------------------- |
| `/`                 | `'/'`                 |
| `/dashboard`        | `'/dashboard'`        |
| `/dashboard?v=2`    | `'/dashboard'`        |
| `/blog/hello-world` | `'/blog/hello-world'` |

## 使用例

### ルート変更時に何かを行う

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="app/example-client-component.tsx" switcher
'use client'

import { usePathname, useSearchParams } from 'next/navigation'

function ExampleClientComponent() {
  const pathname = usePathname()
  const searchParams = useSearchParams()
  useEffect(() => {
    // ここで何かを実行する...
  }, [pathname, searchParams])
}
```
</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="app/example-client-component.js" switcher
'use client'

import { usePathname, useSearchParams } from 'next/navigation'

function ExampleClientComponent() {
  const pathname = usePathname()
  const searchParams = useSearchParams()
  useEffect(() => {
    // ここで何かを実行する...
  }, [pathname, searchParams])
}
```
</TabItem>
</Tabs>


| バージョン   | 変更内容                    |
| --------- | ------------------------- |
| `v13.0.0` | `usePathname` が導入されました |
