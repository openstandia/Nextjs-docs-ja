---
title: リダイレクト
description: redirect関数のAPIリファレンス
related:
  links:
    - app/api-reference/functions/permanentRedirect
---

`redirect` 関数は、ユーザーを別のURLにリダイレクトするために使用します。 `redirect` は[サーバーコンポーネント](/docs/app/building-your-application/rendering/server-components)、[ルートハンドラ](/docs/app/building-your-application/routing/route-handlers)、および[サーバーアクション](/docs/app/building-your-application/data-fetching/server-actions-and-mutations)で使用できます。

[ストリーミングコンテキスト](/docs/app/building-your-application/routing/loading-ui-and-streaming#what-is-streaming)で使用される場合、クライアント側でリダイレクトを発行するメタタグを挿入します。サーバーアクションで使用される場合、リクエスト元に303 HTTPリダイレクトレスポンスを返します。それ以外の場合は、307 HTTPリダイレクトレスポンスを返します。

リソースが存在しない場合は、代わりに[`notFound` 関数](/docs/app/api-reference/functions/not-found)を使用できます。

> **Good to know**:
>
> - サーバーアクションおよびルートハンドラでは、`redirect` は `try/catch` ブロックの後に呼び出すべきです
> - 307（テンポラリ）の代わりに308（パーマネント）HTTPリダイレクトを返したい場合は、[`permanentRedirect` 関数](/docs/app/api-reference/functions/permanentRedirect)を使用できます

## パラメータ

`redirect` 関数は2つの引数を受け取ります:

```js
redirect(path, type)
```

| パラメータ  | 型                                                               | 説明                                     |
| --------- | -------------------------------------------------------------- | -------------------------------------- |
| `path`    | `string`                                                       | リダイレクト先のURL。相対または絶対パスを指定できます |
| `type`    | `'replace'`（デフォルト）または `'push'`（サーバーアクションのデフォルト）| 実行するリダイレクトの種類                   |

デフォルトでは、`redirect` は[サーバーアクション](/docs/app/building-your-application/data-fetching/server-actions-and-mutations)では `push`（ブラウザの履歴スタックに新しいエントリを追加）を使用し、他の場所では `replace` （ブラウザの履歴スタック内の現在のURLを置き換え）を使用します。この動作は `type` パラメータを指定することでオーバーライドできます。

`type` パラメータは、サーバーコンポーネントで使用されるときには効果がありません。

## 戻り値

`redirect` は値を返しません。

## 例

### サーバーコンポーネント

`redirect()` 関数を呼び出すと、`NEXT_REDIRECT` エラーがスローされ、それがスローされたルートセグメントのレンダリングが終了します。

```jsx filename="app/team/[id]/page.js"
import { redirect } from 'next/navigation'

async function fetchTeam(id) {
  const res = await fetch('https://...')
  if (!res.ok) return undefined
  return res.json()
}

export default async function Profile({ params }) {
  const team = await fetchTeam(params.id)
  if (!team) {
    redirect('/login')
  }

  // ...
}
```

> **Good to know**: `redirect` は `return redirect()` を使用する必要がありません。TypeScript の[`never`](https://www.typescriptlang.org/docs/handbook/2/functions.html#never) 型を使用しているためです。

### クライアントコンポーネント

`redirect` はサーバーアクションを通じてクライアントコンポーネントでも使用できます。ユーザーをリダイレクトするためにイベントハンドラを使用する必要がある場合は、[`useRouter`](/docs/app/api-reference/functions/use-router) フックを使用できます。

```tsx filename="app/client-redirect.tsx" switcher
'use client'

import { navigate } from './actions'

export function ClientRedirect() {
  return (
    <form action={navigate}>
      <input type="text" name="id" />
      <button>Submit</button>
    </form>
  )
}
```

```jsx filename="app/client-redirect.jsx" switcher
'use client'

import { navigate } from './actions'

export function ClientRedirect() {
  return (
    <form action={navigate}>
      <input type="text" name="id" />
      <button>Submit</button>
    </form>
  )
}
```

```ts filename="app/actions.ts" switcher
'use server'

import { redirect } from 'next/navigation'

export async function navigate(data: FormData) {
  redirect(`/posts/${data.get('id')}`)
}
```

```js filename="app/actions.js" switcher
'use server'

import { redirect } from 'next/navigation'

export async function navigate(data) {
  redirect(`/posts/${data.get('id')}`)
}
```

## FAQ

### なぜ `redirect` は307と308を使用しますか？

`redirect()` を使用すると、ステータスコードとして307が一時的なリダイレクトに、308が永続的なリダイレクトに使用されていることに気付くかもしれません。従来、302が一時的なリダイレクトに、301が永続的なリダイレクトに使用されていましたが、多くのブラウザは302を使用したときに、元のリクエストメソッドに関係なく、リダイレクトのリクエストメソッドをPOSTからGETに変更しました。

`/users` から `/people` へのリダイレクトの例を考えると、ユーザーを作成するために `/users` にPOSTリクエストを行い、302の一時的なリダイレクトに従うと、リクエストメソッドがPOSTからGETに変更されます。これは、新しいユーザーを作成するためには、`/people` にPOSTリクエストを行うべきであり、GETリクエストではないため、意味が通りません。

307ステータスコードの導入により、リクエストメソッドはPOSTとして保持されます。

- `302` - 一時的なリダイレクトで、リクエストメソッドを `POST` から `GET` に変更します
- `307` - 一時的なリダイレクトで、リクエストメソッドを `POST` として保持します

`redirect()` メソッドは302の一時的なリダイレクトの代わりにデフォルトで307を使用し、リクエストが常にPOSTリクエストとして保持されることを意味します。

[HTTPリダイレクト](https://developer.mozilla.org/docs/Web/HTTP/Redirections)についてもっと学びましょう。

## バージョン履歴

| バージョン   | 変更点              |
| --------- | ------------------- |
| `v13.0.0` | `redirect` が導入されました |
