---
title: revalidatePath
description: revalidatePath関数のAPIリファレンス
---

`revalidatePath`は、特定のパスに対する[キャッシュされたデータ](/docs/app/building-your-application/caching)をオンデマンドでパージするために使用します。

> **Good to know**:
>
> - `revalidatePath`は、[Node.jsランタイムとEdgeランタイム](/docs/app/building-your-application/rendering/edge-and-nodejs-runtimes)の両方で利用可能です。
> - `revalidatePath`は、指定したパスが次に訪問されるまでキャッシュを無効化しません。つまり、動的ルートセグメントを含む`revalidatePath`を呼び出した場合、一度に多くの再検証がすぐにはトリガーされません。無効化はそのパスが次に訪問されたときにのみ発生します。
> - 現在、`revalidatePath`は[クライアントサイドのルーターキャッシュ](/docs/app/building-your-application/caching#client-side-router-cache)内のすべてのルートを無効化します。この動作は一時的であり、将来的には特定のパスのみに適用されるように更新されます。
> - `revalidatePath`を使用すると、[サーバーサイドのルートキャッシュ](/docs/app/building-your-application/caching#full-route-cache)内で**特定のパスのみ**を無効化します。

## パラメータ

```tsx
revalidatePath(path: string, type?: 'page' | 'layout'): void;
```

- `path`: 再検証したいデータに関連付けられたファイルシステムのパス（例: `/product/[slug]/page`）または、実際のルートセグメント（例: `/product/123`）を表す文字列です。1024文字未満でなければなりません。この値は大文字と小文字を区別します。
- `type`: （オプション）再検証したいパスのタイプを変更するための`'page'`または`'layout'`の文字列です。`path`に動的なセグメント（例: `/product/[slug]/page`）が含まれている場合、このパラメータは必要です。`path`が動的ページの実際のルートセグメント（例: `/product/1`）を参照する場合、この`type`の指定は不要です。

## 戻り値

`revalidatePath`は値を返しません。

## 例

### 特定のURLを再検証する

```ts
import { revalidatePath } from 'next/cache'
revalidatePath('/blog/post-1')
```

これは次のページ訪問時に特定のURLを再検証します。

### ページパスを再検証する

```ts
import { revalidatePath } from 'next/cache'
revalidatePath('/blog/[slug]', 'page')
// またはルートグループを使用する
revalidatePath('/(main)/blog/[slug]', 'page')
```

これは次のページ訪問時に提供された`page`ファイルに一致するURLを再検証します。具体的なページの下にあるページは無効化されません。たとえば、`/blog/[slug]`は`/blog/[slug]/[author]`を無効化しません。

### レイアウトパスを再検証する

```ts
import { revalidatePath } from 'next/cache'
revalidatePath('/blog/[slug]', 'layout')
// またはルートグループを使用する
revalidatePath('/(main)/post/[slug]', 'layout')
```

これは次のページ訪問時に提供された`layout`ファイルに一致するURLを再検証します。同じレイアウトを持つ下位のページも次に訪問されたときに再検証されます。たとえば、上記のケースでは、`/blog/[slug]/[another]`も次の訪問時に再検証されます。

### すべてのデータを再検証する

```ts
import { revalidatePath } from 'next/cache'

revalidatePath('/', 'layout')
```

これはクライアントサイドルーターキャッシュをパージし、次の訪問時にデータキャッシュを再検証します。

### サーバーアクション

```ts filename="app/actions.ts" switcher
'use server'

import { revalidatePath } from 'next/cache'

export default async function submit() {
  await submitForm()
  revalidatePath('/')
}
```

### ルートハンドラー

```ts filename="app/api/revalidate/route.ts" switcher
import { revalidatePath } from 'next/cache'
import type { NextRequest } from 'next/server'

export async function GET(request: NextRequest) {
  const path = request.nextUrl.searchParams.get('path')

  if (path) {
    revalidatePath(path)
    return Response.json({ revalidated: true, now: Date.now() })
  }

  return Response.json({
    revalidated: false,
    now: Date.now(),
    message: '再検証するパスがありません',
  })
}
```

```js filename="app/api/revalidate/route.js" switcher
import { revalidatePath } from 'next/cache'

export async function GET(request) {
  const path = request.nextUrl.searchParams.get('path')

  if (path) {
    revalidatePath(path)
    return Response.json({ revalidated: true, now: Date.now() })
  }

  return Response.json({
    revalidated: false,
    now: Date.now(),
    message: '再検証するパスがありません',
  })
}
```