---
title: favicon, icon, and apple-icon
description: Favicon、Icon、Apple Iconファイル規約のAPIリファレンス
---

`favicon`、`icon`、または`apple-icon`ファイル規約を使用して、アプリケーションのアイコンを設定することができます。

これらは、Webブラウザのタブ、スマートフォンのホーム画面、検索エンジンの結果などに現れるアプリのアイコンを追加するのに便利です。

アプリのアイコンを設定する方法は2つあります：

- [イメージファイルを使用する方法 (.ico, .jpg, .png)](#image-files-ico-jpg-png)
- [コードを使用してアイコンを生成する方法 (.js, .ts, .tsx)](#generate-icons-using-code-js-ts-tsx)

## イメージファイル (.ico, .jpg, .png)

イメージファイルを使用してアプリのアイコンを設定するには、`favicon`、`icon`、または`apple-icon`イメージファイルを`/app`ディレクトリ内に配置します。
`favicon`イメージは`app/`のトップレベルにのみ配置することができます。

Next.jsはファイルを評価し、アプリの`<head>`要素に適切なタグを自動的に追加します。

| ファイル規約             | サポートされているファイルタイプ             | 有効な場所  |
| ------------------------- | ----------------------------------------- | ------------- |
| [`favicon`](#favicon)     | `.ico`                                    | `app/`        |
| [`icon`](#icon)           | `.ico`, `.jpg`, `.jpeg`, `.png`, `.svg`   | `app/**/*`    |
| [`apple-icon`](#apple-icon) | `.jpg`, `.jpeg`, `.png`                   | `app/**/*`    |

### `favicon`

`favicon.ico`イメージファイルをルート`/app`ルートセグメントに追加します。

```html filename="<head> output"
<link rel="icon" href="/favicon.ico" sizes="any" />
```

### `icon`

`icon.(ico|jpg|jpeg|png|svg)`イメージファイルを追加します。

```html filename="<head> output"
<link
  rel="icon"
  href="/icon?<generated>"
  type="image/<generated>"
  sizes="<generated>"
/>
```

### `apple-icon`

`apple-icon.(jpg|jpeg|png)`イメージファイルを追加します。

```html filename="<head> output"
<link
  rel="apple-touch-icon"
  href="/apple-icon?<generated>"
  type="image/<generated>"
  sizes="<generated>"
/>
```

> **Good to know**:
>
> - 複数のアイコンを設定するためには、ファイル名に番号のサフィックスを追加することができます。例えば、`icon1.png`、`icon2.png`などです。番号付きファイルは辞書順にソートされます
> - ファビコンはルート`/app`セグメントでのみ設定できます。より詳細な設定が必要な場合は、[`icon`](#icon)を使用してください
> - `rel`、`href`、`type`、および`sizes`などの適切な`<link>`タグおよび属性は、アイコンの種類と評価されたファイルのメタデータによって決定されます
> - 例えば、32x32pxの`.png`ファイルには、`type="image/png"`および`sizes="32x32"`属性が付きます
> - 拡張子が`.svg`またはファイルのイメージサイズが決定されない場合は、`sizes="any"`がアイコンに追加されます。詳細はこの[faviconハンドブック](https://evilmartians.com/chronicles/how-to-favicon-in-2021-six-files-that-fit-most-needs)をご覧ください

## コードを使用してアイコンを生成する (.js, .ts, .tsx)

[実際のイメージファイル](#image-files-ico-jpg-png)を使用するだけでなく、コードを使用してプログラム的にアイコンを**生成**することもできます。

`icon`または`apple-icon`ルートを作成し、デフォルトで関数をエクスポートすることで、アプリのアイコンを生成します。

| ファイル規約   | サポートされているファイルタイプ |
| -------------- | ----------------------------- |
| `icon`         | `.js`, `.ts`, `.tsx`          |
| `apple-icon`   | `.js`, `.ts`, `.tsx`          |

アイコンを生成する最も簡単な方法は、`next/og`の[`ImageResponse`](/docs/app/api-reference/functions/image-response)APIを使用することです。

```tsx filename="app/icon.tsx" switcher
import { ImageResponse } from 'next/og'

// イメージのメタデータ
export const size = {
  width: 32,
  height: 32,
}
export const contentType = 'image/png'

// イメージ生成
export default function Icon() {
  return new ImageResponse(
    (
      // ImageResponse JSX要素
      <div
        style={{
          fontSize: 24,
          background: 'black',
          width: '100%',
          height: '100%',
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'center',
          color: 'white',
        }}
      >
        A
      </div>
    ),
    // ImageResponseオプション
    {
      // 便宜上、エクスポートされたアイコンのサイズメタデータを再利用して、ImageResponseの幅と高さも設定することができます；
      ...size,
    }
  )
}
```

```jsx filename="app/icon.js" switcher
import { ImageResponse } from 'next/og'

// イメージのメタデータ
export const size = {
  width: 32,
  height: 32,
}
export const contentType = 'image/png'

// イメージ生成
export default function Icon() {
  return new ImageResponse(
    (
      // ImageResponse JSX要素
      <div
        style={{
          fontSize: 24,
          background: 'black',
          width: '100%',
          height: '100%',
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'center',
          color: 'white',
        }}
      >
        A
      </div>
    ),
    // ImageResponseオプション
    {
      // 便宜上、エクスポートされたアイコンのサイズメタデータを再利用して、ImageResponseの幅と高さも設定することができます；
      ...size,
    }
  )
}
```

```html filename="<head> output"
<link rel="icon" href="/icon?<generated>" type="image/png" sizes="32x32" />
```

> **Good to know**:
>
> - 生成されたアイコンは、[動的関数](/docs/app/building-your-application/rendering/server-components#server-rendering-strategies#dynamic-functions)やキャッシュされていないデータを使用しない限り、デフォルトで[**静的に最適化**](/docs/app/building-your-application/rendering/server-components#static-rendering-default)されています（ビルド時に生成され、キャッシュされます）
> - [`generateImageMetadata`](/docs/app/api-reference/functions/generate-image-metadata)を使用して、同じファイル内で複数のアイコンを生成することができます
> - `favicon`アイコンを生成することはできません；代わりに[`icon`](#icon)または[favicon.ico](#favicon)ファイルを使用してください
> - アプリのアイコンは特別なルートハンドラで、デフォルトでキャッシュされますが、[動的関数](/docs/app/building-your-application/caching#dynamic-functions)または[動的設定](/docs/app/building-your-application/caching#segment-config-options)オプションを使用している場合を除きます

### Props

デフォルトエクスポート関数は、以下のプロップを受け取ります：

#### `params` (オプショナル)

ルートセグメントから`icon`または`apple-icon`が配置されているセグメントまでの[動的ルートパラメーター](/docs/app/building-your-application/routing/dynamic-routes)オブジェクトを含むオブジェクトです。

```tsx filename="app/shop/[slug]/icon.tsx" switcher
export default function Icon({ params }: { params: { slug: string } }) {
  // ...
}
```

```jsx filename="app/shop/[slug]/icon.js" switcher
export default function Icon({ params }) {
  // ...
}
```

| ルート                           | URL       | `params`                  |
| ------------------------------- | --------- | ------------------------- |
| `app/shop/icon.js`              | `/shop`   | `undefined`               |
| `app/shop/[slug]/icon.js`       | `/shop/1` | `{ slug: '1' }`           |
| `app/shop/[tag]/[item]/icon.js` | `/shop/1/2` | `{ tag: '1', item: '2' }` |

### Returns

デフォルトエクスポート関数は、`Blob` | `ArrayBuffer` | `TypedArray` | `DataView` | `ReadableStream` | `Response`を返す必要があります。

> **Good to know**: `ImageResponse`はこの戻り値タイプを満たします。

### Config exports

`icon`または`apple-icon`ルートから`size`と`contentType`変数をエクスポートして、アイコンのメタデータをオプションで設定することができます。

| オプション                         | タイプ                                                                                                    |
| --------------------------------- | ---------------------------------------------------------------------------------------------------------- |
| [`size`](#size)                   | `{ width: number; height: number }`                                                                        |
| [`contentType`](#contenttype)     | `string` - [イメージMIMEタイプ](https://developer.mozilla.org/docs/Web/HTTP/Basics_of_HTTP/MIME_types#image_types) |

#### `size`

```tsx filename="icon.tsx | apple-icon.tsx" switcher
export const size = { width: 32, height: 32 }

export default function Icon() {}
```

```jsx filename="icon.js | apple-icon.js" switcher
export const size = { width: 32, height: 32 }

export default function Icon() {}
```

```html filename="<head> output"
<link rel="icon" sizes="32x32" />
```

#### `contentType`

```tsx filename="icon.tsx | apple-icon.tsx" switcher
export const contentType = 'image/png'

export default function Icon() {}
```

```jsx filename="icon.js | apple-icon.js" switcher
export const contentType = 'image/png'

export default function Icon() {}
```

```html filename="<head> output"
<link rel="icon" type="image/png" />
```

#### ルートセグメントの設定

`icon`と`apple-icon`は、ページやレイアウトと同じ[ルートセグメント設定](/docs/app/api-reference/file-conventions/route-segment-config)オプションを使用できる特別な[ルートハンドラ](/docs/app/building-your-application/routing/route-handlers)です。

## バージョン履歴

| バージョン   | 変更点                                   |
| ----------- | ----------------------------------- |
| `v13.3.0`   | `favicon`、`icon`、`apple-icon`を導入      |