---
title: ルートのインターセプト
description: インターセプトルートを使用して、新しいルートを現在のレイアウト内で読み込み、ブラウザのURLをマスクします。モーダルなどの高度なルーティングパターンに役立ちます。
related:
  title: 次のステップ
  description: インターセプトルートと並列ルートを使用してモーダルの使用方法を学びます。
  links:
    - app/building-your-application/routing/parallel-routes
---

インターセプトルートを使用すると、アプリケーションの他の部分からのルートを現在のレイアウト内で読み込むことができます。このルーティングパラダイムは、異なるコンテキストにユーザーを遷移させずにルートのコンテンツを表示したい場合に役立ちます。

例えば、フィード内の写真をクリックすると、フィードの上に写真をモーダルとして表示できます。この場合、Next.jsは`/photo/123`ルートをインターセプトし、URLをマスクして`/feed`上にオーバーレイします。

<Image
  alt="ルートのインターセプトとソフトナビゲーション"
  srcLight="/docs/light/intercepting-routes-soft-navigate.png"
  srcDark="/docs/dark/intercepting-routes-soft-navigate.png"
  width="1600"
  height="617"
/>

しかし、共有可能なURLをクリックするかページを更新して写真にナビゲートする場合、モーダルではなく写真ページ全体をレンダリングする必要があります。このときルートのインターセプトは発生しません。

<Image
  alt="ルートのインターセプトとハードナビゲーション"
  srcLight="/docs/light/intercepting-routes-hard-navigate.png"
  srcDark="/docs/dark/intercepting-routes-hard-navigate.png"
  width="1600"
  height="604"
/>

## 規約

インターセプトルートは、`(..)`という規約で定義できます。これは相対パス規約`../`と似ていますが、セグメントに対して使用されます。

以下を使用できます：

- `(.)`で**同じレベル**のセグメントをマッチング
- `(..)`で**1つ上のレベル**のセグメントをマッチング
- `(..)(..)`で**2つ上のレベル**のセグメントをマッチング
- `(...)`で**ルート**`app`ディレクトリからのセグメントをマッチング

例えば、`feed`セグメント内から`photo`セグメントをインターセプトするには、`(..)photo`ディレクトリを作成します。

<Image
  alt="インターセプトルートのフォルダ構造"
  srcLight="/docs/light/intercepted-routes-files.png"
  srcDark="/docs/dark/intercepted-routes-files.png"
  width="1600"
  height="604"
/>

> この`(..)`の規約は、_ルートセグメント_に基づいているのであり、ファイルシステムではありません。

## 例

### モーダル

インターセプトルートは、[並列ルート](/docs/app/building-your-application/routing/parallel-routes)と一緒に使用することでモーダルを作成できます。これにより、モーダルを構築する際の一般的な課題を解決できます：

- モーダルのコンテンツを**URLで共有可能にする**。
- ページを更新してもモーダルを閉じずに**コンテキストを保持する**。
- **モーダルを後ろへのナビゲーションで閉じる**代わりに、直前のルートに戻る。
- **前へのナビゲーションで再度モーダルを開く**。

以下のUIパターンを考えてみてください。ユーザーがクライアントサイドナビゲーションを使用してギャラリーから写真モーダルを開いたり、共有可能なURLから直接写真ページにナビゲートしたりできる場合：

<Image
  alt="ルートのインターセプトとモーダルの例"
  srcLight="/docs/light/intercepted-routes-modal-example.png"
  srcDark="/docs/dark/intercepted-routes-modal-example.png"
  width="1600"
  height="976"
/>

上記の例では、`photo`セグメントのパスは、`@modal`がセグメントでは**なく**スロットであるため、`(..)`マッチャーを使用できます。つまり、ファイルシステム上では2レベル上のように見えますが、実際には`photo`ルートは1レベル上にあるに過ぎません。

[並列ルート](/docs/app/building-your-application/routing/parallel-routes#modals)のドキュメントではステップバイステップの例を確認できます。または、[画像ギャラリーの例](https://github.com/vercel-labs/nextgram)も参照してください。

> **Good to know:**
>
> - 他の例としては、専用の`/login`ページを持ちながらトップナビバーでログインモーダルを開く、またはショッピングカートをサイドモーダルで開くなどがあります。