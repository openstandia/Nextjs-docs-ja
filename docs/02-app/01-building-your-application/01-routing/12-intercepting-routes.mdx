---
title: 'Intercepting Routes'
description: '新しいルートを現在のレイアウト内で読み込みつつブラウザのURLをマスキングするためのIntercepting Routesの使用法をご紹介します。モーダルのような高度なルーティングパターンで特に有用です。'
related:
  title: 'Next Steps'
  description: 'Intercepted RoutesとParallel Routesを使用してモーダルの使い方を学びましょう。'
  links:
    - app/building-your-application/routing/parallel-routes
---

Intercepting routesを使用すると、アプリケーションの他の部分からのルートを現在のレイアウト内に読み込むことができます。このルーティングパラダイムは、異なるコンテキストに切り替えることなくルートのコンテンツを表示したい場合に便利です。

例えば、フィード内の写真をクリックしたとき、その写真をモーダルで表示し、フィードにオーバーレイします。この場合、Next.jsは`/photo/123`ルートをインターセプトし、URLをマスキングし、`/feed`の上にオーバーレイします。

<Image
  alt="Intercepting routes soft navigation"
  srcLight="/docs/light/intercepting-routes-soft-navigate.png"
  srcDark="/docs/dark/intercepting-routes-soft-navigate.png"
  width="1600"
  height="617"
/>

しかし、共有可能なURLをクリックして写真に移動する場合や、ページを更新する場合、モーダルではなく写真のページ全体が表示されるべきです。ルートのインターセプトは発生しません。

<Image
  alt="Intercepting routes hard navigation"
  srcLight="/docs/light/intercepting-routes-hard-navigate.png"
  srcDark="/docs/dark/intercepting-routes-hard-navigate.png"
  width="1600"
  height="604"
/>

## 規約

Intercepting routesは、`(..)`規約を使用して定義できます。これは、セグメント用の相対パス規約`../`に似ています。

使用できるもの：

- `(.)`は**同じレベル**のセグメントにマッチする
- `(..)`は**1つ上のレベル**のセグメントにマッチする
- `(..)(..)`は**2つ上のレベル**のセグメントにマッチする
- `(...)`は**root**の`app`ディレクトリからのセグメントにマッチする

例として、`feed`セグメント内で`photo`セグメントをインターセプトするためには、`(..)photo`ディレクトリを作成します。

<Image
  alt="Intercepting routes folder structure"
  srcLight="/docs/light/intercepted-routes-files.png"
  srcDark="/docs/dark/intercepted-routes-files.png"
  width="1600"
  height="604"
/>

> `(..)`規約は、ファイルシステムではなく_ルートセグメント_に基づいていることに注意してください。

## 例

### モーダル

Intercepting Routesは[Parallel Routes](/docs/app/building-your-application/routing/parallel-routes)と組み合わせることでモーダルを作成できます。これは、モーダルを作成する際の一般的な課題を解決するのに役立ちます。例えば：

- モーダルのコンテンツを**URLを通じて共有可能にする**
- ページが更新されたときにモーダルを閉じるのではなく、**コンテキストを保持する**
- **後方のナビゲーションでモーダルを閉じ、以前のルートへ戻るのではなく、モーダルを閉じる**
- **前方のナビゲーションでモーダルを再オープンする**

次のUIパターンを考えてみてください。ユーザーはクライアントサイドのナビゲーションを使用してギャラリーからフォトモーダルを開くことができ、また共有可能なURLを直接ナビゲートすることもできます。

<Image
  alt="Intercepting routes modal example"
  srcLight="/docs/light/intercepted-routes-modal-example.png"
  srcDark="/docs/dark/intercepted-routes-modal-example.png"
  width="1600"
  height="976"
/>

上記の例では、`@modal`はスロットであり、**セグメントではない**ため、`photo`セグメントへのパスは`(..)`マッチャーを使用できます。これにより、ファイルシステムのレベルでは2レベル上にあるにもかかわらず、`photo`ルートはセグメントレベルが1つ上にあるだけになります。

段階的な例については、[Parallel Routes](/docs/app/building-your-application/routing/parallel-routes#modals)のドキュメンテーションをご覧いただき、または私たちの[画像ギャラリーの例](https://github.com/vercel-labs/nextgram)をご覧ください。

> **知っておくと良い:**
>
> - 他の例として、トップナビバーでログインモーダルを開く一方で専用の`/login`ページを持つ、またはサイドモーダルでショッピングカートを開くといったものが含まれるかもしれません。