---
title: 'プロジェクトの整理とファイルの配置'
nav_title: 'プロジェクトの整理'
description: 'Next.jsプロジェクトの整理方法とファイルの配置について学びましょう。'
related:
  links:
    - 'app/building-your-application/routing/defining-routes'
    - 'app/building-your-application/routing/route-groups'
    - 'app/building-your-application/configuring/src-directory'
    - 'app/building-your-application/configuring/absolute-imports-and-module-aliases'
---

[routingフォルダとファイルの規約](/docs/getting-started/project-structure#app-routing-conventions)とは別に、Next.jsはプロジェクトファイルの整理や配置については**意見を持ちません**。

このページでは、プロジェクトを整理するために使用できるデフォルトの動作と機能を紹介します。

- [安全なデフォルト配置](#safe-colocation-by-default)
- [プロジェクトの整理機能](#project-organization-features)
- [プロジェクトの整理戦略](#project-organization-strategies)

## 安全なデフォルト配置

`app`ディレクトリでは、[ネストされたフォルダ階層](/docs/app/building-your-application/routing#route-segments)がルート構造を定義します。

各フォルダはURLパス内の対応するセグメントにマッピングされるルートセグメントを表します。

ただし、ルート構造はフォルダによって定義されるものの、`page.js`または`route.js`ファイルがルートセグメントに追加されるまで、ルートは**公開されません**。

<Image
  alt="ルートはpage.jsまたはroute.jsファイルがルートセグメントに追加されるまで公開されないことを示す図。"
  srcLight="/docs/light/project-organization-not-routable.png"
  srcDark="/docs/dark/project-organization-not-routable.png"
  width="1600"
  height="444"
/>

そして、ルートが公開されるときでも、`page.js`または`route.js`によって返される**コンテンツのみ**がクライアントに送信されます。

<Image
  alt="page.jsとroute.jsファイルがルートを公開可能にする様子を示す図。"
  srcLight="/docs/light/project-organization-routable.png"
  srcDark="/docs/dark/project-organization-routable.png"
  width="1600"
  height="687"
/>

これは、`app`ディレクトリ内のルートセグメント内に**プロジェクトファイル**を**安全に配置**することができ、誤ってルーティングされることがないことを意味します。

<Image
  alt="コロケーションされたプロジェクトファイルは、セグメントにpage.jsまたはroute.jsファイルが含まれていてもルーティングされないことを示す図。"
  srcLight="/docs/light/project-organization-colocation.png"
  srcDark="/docs/dark/project-organization-colocation.png"
  width="1600"
  height="1011"
/>

> **Good to know**:
>
> - これは`pages`ディレクトリとは異なり、`pages`内のすべてのファイルがルートとみなされます。
> - プロジェクトファイルを`app`内に配置することが**できます**が、配置する必要はありません。望む場合は、[ファイルを`app`ディレクトリの外に保持することができます](#store-project-files-outside-of-app)。

## プロジェクトの整理機能

Next.jsはプロジェクトを整理するためのいくつかの機能を提供します。

### プライベートフォルダ

フォルダ名の前にアンダースコアを付けることでプライベートフォルダを作成できます： `_folderName`

これは、このフォルダがプライベートな内部実装の詳細であり、ルーティングシステムによって考慮されるべきではないことを示します。これにより**フォルダとそのすべてのサブフォルダ**がルーティングから除外されます。

<Image
  alt="プライベートフォルダを使用したフォルダ構造の例"
  srcLight="/docs/light/project-organization-private-folders.png"
  srcDark="/docs/dark/project-organization-private-folders.png"
  width="1600"
  height="849"
/>

`app`ディレクトリ内のファイルは[デフォルトで安全に配置できる](#safe-colocation-by-default)ため、配置のためにはプライベートフォルダは必要ありません。しかし、以下のために役立ちます：

- UIロジックとルーティングロジックを分離する
- プロジェクト全体とNext.jsエコシステム内で内部ファイルを一貫して整理する
- コードエディタ内でファイルを並べ替え、グループ化する
- 将来のNext.jsファイル規約との命名競合を避ける

> **Good to know**:
>
> - フレームワークの規約ではありませんが、プライベートフォルダ外のファイルにも同じアンダースコアパターンを使用して"プライベート"とマークすることを検討してもよいかもしれません。
> - URLセグメントにアンダースコアで始まるものを作成する場合、フォルダ名の前に`%5F`（アンダースコアのURLエンコード形式）：`%5FfolderName`を付けます。
> - プライベートフォルダを使用しない場合でも、Next.jsの[特別なファイル規約](/docs/getting-started/project-structure#routing-files)について知っておくと、予期しない命名競合を防ぐのに役立ちます。

### ルートグループ

フォルダを括弧で囲むことでルートグループを作成できます： `(folderName)`

これは、このフォルダが組織化目的であり、ルートのURLパスに含まれるべきではないことを示します。

<Image
  alt="ルートグループを使用したフォルダ構造の例"
  srcLight="/docs/light/project-organization-route-groups.png"
  srcDark="/docs/dark/project-organization-route-groups.png"
  width="1600"
  height="849"
/>

ルートグループは以下のために役立ちます：

- [ルートをグループとして整理する](/docs/app/building-your-application/routing/route-groups#organize-routes-without-affecting-the-url-path)、たとえばサイトのセクション、意図、チームなどで
- 同じルートセグメントレベルにネストされたレイアウトを可能にする：
  - [同じセグメントに複数のネストされたレイアウト、複数のrootレイアウトを作成する](/docs/app/building-your-application/routing/route-groups#creating-multiple-root-layouts)
  - [共通のセグメント内のルートのサブセットにレイアウトを追加する](/docs/app/building-your-application/routing/route-groups#opting-specific-segments-into-a-layout)

### `src`ディレクトリ

Next.jsは、アプリケーションコード（`app`を含む）をオプションの[`src`ディレクトリ](/docs/app/building-your-application/configuring/src-directory)内に保存することをサポートしています。これにより、プロジェクトの構成ファイルからアプリケーションコードを分離することができ、構成ファイルは主にプロジェクトのルートに存在します。

<Image
  alt="`src`ディレクトリを持つフォルダ構造の例"
  srcLight="/docs/light/project-organization-src-directory.png"
  srcDark="/docs/dark/project-organization-src-directory.png"
  width="1600"
  height="687"
/>

### モジュールパスエイリアス

Next.jsは[モジュールパスエイリアス](/docs/app/building-your-application/configuring/absolute-imports-and-module-aliases)をサポートしており、プロジェクトファイル内の深くネストされたインポートをより読みやすく、保守しやすくします。

```jsx title="app/dashboard/settings/analytics/page.js"
// 以前は
import { Button } from '../../../components/button'

// 現在は
import { Button } from '@/components/button'
```

## プロジェクトの整理戦略

Next.jsプロジェクト内でファイルやフォルダを整理する方法には、"正しい"または"間違った"ものはありません。

以下のセクションでは、一般的な戦略の非常に高レベルな概要を示します。最も簡単な結論は、あなたやチームにとって最適な戦略を選び、プロジェクト全体を通して一貫性を保つことです。

> **Good to know**: 以下の例では、`components`と`lib`フォルダを一般的なプレースホルダとして使用していますが、それらの命名に特にフレームワークの意義はなく、プロジェクトでは`ui`、`utils`、`hooks`、`styles`などの他のフォルダを使用することもあります。

### プロジェクトファイルを`app`外に保存する

この戦略では、すべてのアプリケーションコードを**プロジェクトのルート**にある共有フォルダに保存し、`app`ディレクトリをルーティング専用に保ちます。

<Image
  alt="app外のプロジェクトファイルを持つフォルダ構造の例"
  srcLight="/docs/light/project-organization-project-root.png"
  srcDark="/docs/dark/project-organization-project-root.png"
  width="1600"
  height="849"
/>

### プロジェクトファイルを`app`内のトップレベルフォルダに保存する

この戦略では、すべてのアプリケーションコードを**`app`ディレクトリのルート**にある共有フォルダに保存します。

<Image
  alt="app内のプロジェクトファイルを持つフォルダ構造の例"
  srcLight="/docs/light/project-organization-app-root.png"
  srcDark="/docs/dark/project-organization-app-root.png"
  width="1600"
  height="849"
/>

### プロジェクトファイルを特徴やルートごとに分割する

この戦略では、全体的に共通のアプリケーションコードを`app`ディレクトリのルートに保存し、より特定のアプリケーションコードをそれを使用するルートセグメントに**分割**します。

<Image
  alt="特徴やルートごとに分割されたプロジェクトファイルを持つフォルダ構造の例"
  srcLight="/docs/light/project-organization-app-root-split.png"
  srcDark="/docs/dark/project-organization-app-root-split.png"
  width="1600"
  height="1011"
/>