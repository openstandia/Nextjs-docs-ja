---
title: 'Partial Prerendering'
description: 'Partial Prerendering ã‚’ä½¿ç”¨ã—ã¦ã€é™çš„ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã¨å‹•çš„ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®åˆ©ç‚¹ã‚’çµ„ã¿åˆã‚ã›ã‚‹æ–¹æ³•ã‚’å­¦ã³ã¾ã—ã‚‡ã†ã€‚'
---

> **Note:** Partial Prerendering ã¯**å®Ÿé¨“çš„ãª**æ©Ÿèƒ½ã§ã‚ã‚Šã€canary ã§ã®ã¿åˆ©ç”¨å¯èƒ½ã§ã€å¤‰æ›´ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ã§ã®ä½¿ç”¨ã«ã¯æº–å‚™ãŒã§ãã¦ã„ã¾ã›ã‚“ã€‚

Partial Prerendering (PPR) ã«ã‚ˆã‚Šã€åŒã˜ãƒ«ãƒ¼ãƒˆå†…ã§é™çš„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨å‹•çš„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ãƒ“ãƒ«ãƒ‰ä¸­ã€Next.js ã¯ãƒ«ãƒ¼ãƒˆã®å¯èƒ½ãªé™ã‚Šã‚’äº‹å‰ã«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã—ã¾ã™ã€‚ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‹ã‚‰ã®èª­ã¿å–ã‚Šã®ã‚ˆã†ãª[å‹•çš„](/docs/app/building-your-application/rendering/server-components#dynamic-rendering)ã‚³ãƒ¼ãƒ‰ãŒæ¤œå‡ºã•ã‚ŒãŸå ´åˆã¯ã€é–¢é€£ã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’[React Suspense](https://react.dev/reference/react/Suspense)ã®å¢ƒç•Œã§ãƒ©ãƒƒãƒ—ã§ãã¾ã™ã€‚Suspense å¢ƒç•Œã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¯äº‹å‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚ŒãŸ HTML ã«å«ã¾ã‚Œã¾ã™ã€‚

<Image
  alt="é™çš„ãªãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã¨è£½å“æƒ…å ±ã€å‹•çš„ãªã‚«ãƒ¼ãƒˆã¨ãŠã™ã™ã‚å•†å“ã‚’è¡¨ç¤ºã™ã‚‹éƒ¨åˆ†çš„ã«äº‹å‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚ŒãŸè£½å“ãƒšãƒ¼ã‚¸"
  srcLight="/learn/light/thinking-in-ppr.png"
  srcDark="/learn/dark/thinking-in-ppr.png"
  width="1600"
  height="632"
/>

> **ğŸ¥ è¦–è´:** PPR ã®ç†ç”±ã¨ãã®å‹•ä½œ â†’ [YouTube (10 åˆ†)](https://www.youtube.com/watch?v=MTcPrTIBkpA)ã€‚

## èƒŒæ™¯ {#background}

PPR ã¯ã€Next.js ã‚µãƒ¼ãƒãƒ¼ãŒäº‹å‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å³åº§ã«é€ä¿¡ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚

ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã‚µãƒ¼ãƒãƒ¼ã¸ã®ã‚¦ã‚©ãƒ¼ã‚¿ãƒ¼ãƒ•ã‚©ãƒ¼ãƒ«ã‚’é˜²ããŸã‚ã«ã€å‹•çš„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ã€æœ€åˆã®äº‹å‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’æä¾›ã—ã¦ã„ã‚‹é–“ã«ã€ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰ä¸¦è¡Œã—ã¦ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã‚’é–‹å§‹ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã® JavaScript ãŒãƒ–ãƒ©ã‚¦ã‚¶ã«ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã‚‹å‰ã«å‹•çš„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’é–‹å§‹ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

å„å‹•çš„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«å¯¾ã—ã¦å¤šæ•°ã® HTTP ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ç”Ÿæˆã—ãªã„ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã«ã€PPR ã¯é™çš„ãªäº‹å‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã¨å‹•çš„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å˜ä¸€ã® HTTP ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«çµ±åˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€å„å‹•çš„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«å¯¾ã—ã¦è¤‡æ•°ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å¾€å¾©ãŒä¸è¦ã«ãªã‚Šã¾ã™ã€‚

## Partial Prerendering ã‚’ä½¿ç”¨ã™ã‚‹ {#using-partial-prerendering}

### ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«å°å…¥ (ãƒãƒ¼ã‚¸ãƒ§ãƒ³ 15) {#incremental-adoption-version-15}

Next.js 15 ã§ã¯ã€[`next.config.js`](/docs/app/api-reference/next-config-js/ppr)ã® `ppr` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ `incremental` ã«è¨­å®šã—ã€ãƒ•ã‚¡ã‚¤ãƒ«ã®å…ˆé ­ã§ `experimental_ppr` [ãƒ«ãƒ¼ãƒˆè¨­å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³](/docs/app/api-reference/file-conventions/route-segment-config)ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹ã“ã¨ã§ã€[ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ](/docs/app/building-your-application/routing/layouts-and-templates)ã‚„[ãƒšãƒ¼ã‚¸](/docs/app/building-your-application/routing/pages)ã§ Partial Prerendering ã‚’æ®µéšçš„ã«å°å…¥ã§ãã¾ã™ï¼š

<Tabs>
<TabItem value="ts" label="TypeScript">

```ts title="next.config.ts" switcher
import type { NextConfig } from 'next'

const nextConfig: NextConfig = {
  experimental: {
    ppr: 'incremental',
  },
}

export default nextConfig
```

</TabItem>
<TabItem value="js" label="JavaScript">

```js title="next.config.js" switcher
/** @type {import('next').NextConfig} */
const nextConfig = {
  experimental: {
    ppr: 'incremental',
  },
}

module.exports = nextConfig
```

</TabItem>
</Tabs>

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="app/page.tsx" switcher
import { Suspense } from 'react'
import { StaticComponent, DynamicComponent, Fallback } from '@/app/ui'

export const experimental_ppr = true

export default function Page() {
  return (
    <>
      <StaticComponent />
      <Suspense fallback={<Fallback />}>
        <DynamicComponent />
      </Suspense>
    </>
  )
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="app/page.js" switcher
import { Suspense } from 'react'
import { StaticComponent, DynamicComponent, Fallback } from '@/app/ui'

export const experimental_ppr = true

export default function Page() {
  return (
    <>
      <StaticComponent />
      <Suspense fallback={<Fallback />}>
        <DynamicComponent />
      </Suspense>
    </>
  )
}
```

</TabItem>
</Tabs>

> **Good to know**:
>
> - `experimental_ppr` ãŒè¨­å®šã•ã‚Œã¦ã„ãªã„ãƒ«ãƒ¼ãƒˆã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ `false` ã¨ãªã‚Šã€PPR ã‚’ä½¿ç”¨ã—ã¦äº‹å‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã¾ã›ã‚“ã€‚å„ãƒ«ãƒ¼ãƒˆã”ã¨ã« PPR ã‚’æ˜ç¤ºçš„ã«é¸æŠã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
> - `experimental_ppr` ã¯ãƒ«ãƒ¼ãƒˆã‚»ã‚°ãƒ¡ãƒ³ãƒˆã®ã™ã¹ã¦ã®å­ã«é©ç”¨ã•ã‚Œã€ãƒã‚¹ãƒˆã•ã‚ŒãŸãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚„ãƒšãƒ¼ã‚¸ã‚‚å«ã¾ã‚Œã¾ã™ã€‚ã™ã¹ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«è¿½åŠ ã™ã‚‹å¿…è¦ã¯ãªãã€ãƒ«ãƒ¼ãƒˆã®æœ€ä¸Šä½ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã«ã®ã¿è¿½åŠ ã™ã‚Œã°è‰¯ã„ã§ã™ã€‚
> - å­ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã«å¯¾ã—ã¦ PPR ã‚’ç„¡åŠ¹ã«ã™ã‚‹ã«ã¯ã€å­ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã§ `experimental_ppr` ã‚’ `false` ã«è¨­å®šã§ãã¾ã™ã€‚

## å‹•çš„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ {#dynamic-components}

`next build` ä¸­ã«ãƒ«ãƒ¼ãƒˆã®äº‹å‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’ä½œæˆã™ã‚‹éš›ã€Next.js ã¯å‹•çš„ãª API ãŒ React Suspense ã§ãƒ©ãƒƒãƒ—ã•ã‚Œã‚‹ã“ã¨ã‚’è¦æ±‚ã—ã¾ã™ã€‚ãã® `ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯` ã¯äº‹å‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã«å«ã¾ã‚Œã¾ã™ã€‚

ãŸã¨ãˆã°ã€`cookies` ã‚„ `headers` ã®ã‚ˆã†ãªé–¢æ•°ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆï¼š

<Tabs>
<TabItem value="jsx" label="JavaScript">

```jsx title="app/user.js" switcher
import { cookies } from 'next/headers'

export async function User() {
  const session = (await cookies()).get('session')?.value
  return '...'
}
```

</TabItem>
<TabItem value="tsx" label="TypeScript">

```tsx title="app/user.tsx" switcher
import { cookies } from 'next/headers'

export async function User() {
  const session = (await cookies()).get('session')?.value
  return '...'
}
```

</TabItem>
</Tabs>

ã“ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ã€ç€ä¿¡ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’èª¿ã¹ã¦ cookie ã‚’èª­ã¿å–ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã‚’ PPR ã¨ä¸€ç·’ã«ä½¿ç”¨ã™ã‚‹ã«ã¯ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ Suspense ã§ãƒ©ãƒƒãƒ—ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼š

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="app/page.tsx" switcher
import { Suspense } from 'react'
import { User, AvatarSkeleton } from './user'

export const experimental_ppr = true

export default function Page() {
  return (
    <section>
      <h1>This will be prerendered</h1>
      <Suspense fallback={<AvatarSkeleton />}>
        <User />
      </Suspense>
    </section>
  )
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="app/page.js" switcher
import { Suspense } from 'react'
import { User, AvatarSkeleton } from './user'

export const experimental_ppr = true

export default function Page() {
  return (
    <section>
      <h1>This will be prerendered</h1>
      <Suspense fallback={<AvatarSkeleton />}>
        <User />
      </Suspense>
    </section>
  )
}
```

</TabItem>
</Tabs>

ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ã€å€¤ãŒã‚¢ã‚¯ã‚»ã‚¹ã•ã‚ŒãŸã¨ãã«ã®ã¿å‹•çš„ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã«å‚åŠ ã—ã¾ã™ã€‚

ãŸã¨ãˆã°ã€`page` ã‹ã‚‰ `searchParams` ã‚’èª­ã¿å–ã£ã¦ã€ã“ã‚Œã‚’ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¨ã—ã¦ä»–ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«æ¸¡ã™å ´åˆï¼š

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="app/page.tsx" switcher
import { Table } from './table'

export default function Page({
  searchParams,
}: {
  searchParams: Promise<{ sort: string }>
}) {
  return (
    <section>
      <h1>This will be prerendered</h1>
      <Table searchParams={searchParams} />
    </section>
  )
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="app/page.js" switcher
import { Table } from './table'

export default function Page({ searchParams }) {
  return (
    <section>
      <h1>This will be prerendered</h1>
      <Table searchParams={searchParams} />
    </section>
  )
}
```

</TabItem>
</Tabs>

table ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã§ `searchParams` ã®å€¤ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå‹•çš„ã«å®Ÿè¡Œã•ã‚Œã¾ã™ï¼š

<Tabs>
<TabItem value="tsx" label="TypeScript">

```tsx title="app/table.tsx" switcher
export async function Table({
  searchParams,
}: {
  searchParams: Promise<{ sort: string }>
}) {
  const sort = (await searchParams).sort === 'true'
  return '...'
}
```

</TabItem>
<TabItem value="jsx" label="JavaScript">

```jsx title="app/table.js" switcher
export async function Table({ searchParams }) {
  const sort = (await searchParams).sort === 'true'
  return '...'
}
```

</TabItem>
</Tabs>
